!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},n={},o=t.parcelRequire6b37;null==o&&((o=function(e){if(e in r)return r[e].exports;if(e in n){var t=n[e];delete n[e];var o={id:e,exports:{}};return r[e]=o,t.call(o.exports,o,o.exports),o.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){n[e]=t},t.parcelRequire6b37=o);var i=o("bpxeT"),a=o("2TvXO"),l=o("ko9ms"),c=o("iF1nq"),s="Favorite";function u(e){try{var t=v();return"object"==typeof t&&!1!==Array.isArray(t)||(t=[],console.log(t)),t.unshift(e),d(t),!0}catch(e){return console.error(e.message),!1}}function f(e){try{var t=v(),r=t.findIndex((function(t,r){return t.id===e}));return t.splice(r,1),d(t),!0}catch(e){return console.error(e.message),!1}}function d(e){var t="Wrong data to save: array with objects is expected.";if("object"==typeof e)if(!1!==Array.isArray(e))try{var r=JSON.stringify(e);localStorage.setItem(s,r)}catch(e){console.error("Set state error: ",e.message)}else console.log(t);else console.log(t)}function v(){try{var e=localStorage.getItem(s);return null===e?void 0:JSON.parse(e)}catch(e){console.error(e.message)}}function y(){try{var e=localStorage.getItem("read");return null===e?{}:JSON.parse(e)}catch(e){console.log(e)}}function p(e){!function(e){var t=y(),r=!0,n=!1,o=void 0;try{for(var i,a=Object.keys(t)[Symbol.iterator]();!(r=(i=a.next()).done);r=!0){key=i.value;var l=t[key].findIndex((function(t){return t.id===e.id}));l>-1&&(console.log(t[key]),t[key].splice(l,1))}}catch(e){n=!0,o=e}finally{try{r||null==a.return||a.return()}finally{if(n)throw o}}localStorage.setItem("read",JSON.stringify(t))}(e);var t=y(),r=(new Date).toLocaleString().slice(0,10).split(".").join("/");t[r]||(t[r]=[]),t[r].push(e),localStorage.setItem("read",JSON.stringify(t))}i=o("bpxeT"),a=o("2TvXO");function g(){return m.apply(this,arguments)}function m(){return(m=e(i)(e(a).mark((function t(){var r,n,o,i;return e(a).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=j(),n=v(),o=y(),i=Object.values(o).flat(),r.map((function(e){if(n){if(n.some((function(t){return e.id===t.id}))&&(e.favor=!0),i)return void(i.some((function(t){return e.id===t.id}))&&(e.read=!0))}else if(i){i.some((function(t){return e.id===t.id}))&&(e.read=!0)}})),e.abrupt("return",r);case 6:case"end":return e.stop()}}),t)})))).apply(this,arguments)}var h=document.querySelector(".box-news");h.addEventListener("click",(function(e){if(e.target.closest("BUTTON")){var t=e.target.closest("BUTTON"),r=t.closest("li").dataset.id,n=t.querySelector(".box-news__favorite-p");t.querySelector(".box-news__favorite-svg");t.classList.contains("favorite")?function(e,t,r){var n=!0,o=!1,i=void 0;try{for(var a,l=j()[Symbol.iterator]();!(n=(a=l.next()).done);n=!0){var c=a.value;if(c.id===t)return void(f(c.id)&&(e.classList.remove("favorite"),r.textContent="Add to Favorite"))}}catch(e){o=!0,i=e}finally{try{n||null==l.return||l.return()}finally{if(o)throw i}}}(t,r,n):function(e,t,r){var n=!0,o=!1,i=void 0;try{for(var a,l=j()[Symbol.iterator]();!(n=(a=l.next()).done);n=!0){var c=a.value;if(c.id===t)return void(u(c)&&(e.classList.add("favorite"),r.textContent="Remove from Favorite"))}}catch(e){o=!0,i=e}finally{try{n||null==l.return||l.return()}finally{if(o)throw i}}}(t,r,n)}})),h.addEventListener("click",(function(e){if(e.preventDefault(),"A"===e.target.tagName){var t=e.target.closest("li").dataset.id,r=e.target.closest("li"),n=!0,o=!1,i=void 0;try{for(var a,l=j()[Symbol.iterator]();!(n=(a=l.next()).done);n=!0){var c=a.value;if(c.id===t)return p(c),void r.classList.add("show")}}catch(e){o=!0,i=e}finally{try{n||null==l.return||l.return()}finally{if(o)throw i}}}}));var x=k(),b=[],w=null;function S(e){return O.apply(this,arguments)}function O(){return(O=e(i)(e(a).mark((function t(r){var n,o;return e(a).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==b.length){e.next=4;break}return e.next=3,r();case 3:b=e.sent;case 4:return w=T(),n=L(b,1,w),e.next=8,g(n);case 8:o=e.sent,N(o.map((function(e){return(0,c.creatCardMarkup)(e)})));case 11:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function T(){var e=k();return e>1280?8:e>768?7:4}function k(){return document.documentElement.clientWidth}function L(e,t,r){var n=(t-1)*r,o=n+r;return e.slice(n,o)}function N(e){h.innnerHTML="",h.insertAdjacentHTML("beforeend",e.join(""))}function j(){return b}window.addEventListener("resize",(function(){(x<768&&k()>=768||x>=768&&x<1280&&(k()<768||k()>=1280)||x>=1280&&k()<1280)&&S()})),S(l.getMostPopularArticles)}();
//# sourceMappingURL=index.58b7a3a4.js.map
