{"mappings":"oeAAAA,EAAA,SCCA,IAAAC,EAAAD,EAAA,S,0BCDO,SAASE,EAAaC,EAAKC,EAAMC,GACtC,MAAMC,GAASF,EAAO,GAAKC,EACrBE,EAAMD,EAAQD,EAEpB,OADoBF,EAAIK,MAAMF,EAAOC,E,CDGvC,MAAME,EAAMC,SAASC,cAAc,aAC7BC,EAASF,SAASC,cAAc,qBAgDtC,SAASE,EAA4BV,GAGnC,GAXF,SAAsBW,GACpB,MAAMC,EAAe,0DAA0DD,iDAC/EL,EAAIO,UAAYD,EAChBE,YAAW,KACTL,EAAOM,UAAUC,IAAI,YAAY,GAChC,I,CAIHC,CAAa,mCAEM,iBAARjB,EACT,OAEF,IAA2B,IAAvBkB,MAAMC,QAAQnB,GAChB,OAGF,IAAIE,EA3BAkB,OAAOC,WAAa,KACf,EACED,OAAOC,WAAa,IACtB,EAEA,EAuBT,MACMC,EAAevB,GADE,EAAAD,EAAAyB,oBAC2B,EAAGrB,GACpB,GAAL,IAAxBoB,EAAaE,OAAc,CAC7B,MAAMC,EAAkBH,EAAaI,KAAIC,IAAM,EAAAC,EAAAC,iBAAgBF,KAE/DrB,EAAIO,UAAYY,EAAgBK,KAAK,G,EA9DzCxB,EAAIyB,iBAAiB,SAGrB,SAA4BC,GAC1B,GAAIA,EAAEC,OAAOC,QAAQ,2BAA4B,CAC/C,MAAMC,EAAQH,EAAEC,OAAOC,QAAQ,MAAME,QAAQC,IAC7C,EAAAvC,EAAAwC,oBAAmBH,GACnB7B,EAAIO,UAAY,GAChBH,GAA4B,EAAAZ,EAAAyB,oB,CAE9B,M,IATFjB,EAAIyB,iBAAiB,SAYrB,SAA4BC,GAC1B,GAAyB,MAArBA,EAAEC,OAAOM,QAAiB,CAC5B,IAAIC,EAAYR,EAAEC,OAAOC,QAAQ,MAAME,QAAQC,GAC3CI,EAAYT,EAAEC,OAAOC,QAAQ,MACjC,MAAMQ,GAAW,EAAA5C,EAAAyB,oBACjB,IAAK,MAAMI,KAAMe,EACf,GAAIf,EAAGU,KAAOG,EAGZ,OAFA,EAAAG,EAAAC,kBAAiBjB,QACjBc,EAAU1B,UAAUC,IAAI,O,KA6ChCN,GAA4B,EAAAZ,EAAAyB","sources":["src/favorite-main.js","src/js/favorite.js","src/js/utils/arrayCarsToRander.js"],"sourcesContent":["import './js/header';\nimport './js/favorite';\n","//------------Oleksiy Zhuravlev-----------;\nimport { excludeFavoriteNew, loadAllFavorites } from './library.js';\nimport { creatCardMarkup } from './creatCardMarkup';\nimport { writeReadStorage } from './read-library';\nimport { displayItems } from './utils/arrayCarsToRander';\n\nconst box = document.querySelector('.box-news');\nconst loader = document.querySelector('.loader-container');\n\nbox.addEventListener('click', onFavoriteBtnClick);\nbox.addEventListener('click', onReadMoreBtnClick);\n\nfunction onFavoriteBtnClick(e) {\n  if (e.target.closest('.box-news__favorite-btn')) {\n    const favId = e.target.closest('li').dataset.id;\n    excludeFavoriteNew(favId);\n    box.innerHTML = '';\n    createPopularNewsCollection(loadAllFavorites());\n  }\n  return;\n}\n\nfunction onReadMoreBtnClick(e) {\n  if (e.target.tagName === 'A') {\n    let currentId = e.target.closest('li').dataset.id;\n    let currentLi = e.target.closest('li');\n    const favArray = loadAllFavorites();\n    for (const el of favArray) {\n      if (el.id === currentId) {\n        writeReadStorage(el);\n        currentLi.classList.add('show');\n        return;\n      }\n    }\n  }\n}\n\nfunction quantityPerPage() {\n  if (window.innerWidth > 1280) {\n    return 8;\n  } else if (window.innerWidth > 768) {\n    return 7;\n  } else {\n    return 4;\n  }\n}\n\nfunction renderNoNews(noResultsText) {\n  const noNewsMarkUp = `<li class=\"no-results-wrap\"><p class=\"no-results-text\">${noResultsText}</p><span class=\"no-results-bgr\"></span></li>`;\n  box.innerHTML = noNewsMarkUp;\n  setTimeout(() => {\n    loader.classList.add('is-hidden');\n  }, 500);\n}\n\nfunction createPopularNewsCollection(arr) {\n  renderNoNews('The favorite news list is empty');\n\n  if (typeof arr !== 'object') {\n    return;\n  }\n  if (Array.isArray(arr) === false) {\n    return;\n  }\n\n  let perPage = quantityPerPage(); \n  const arrCurrentNews = loadAllFavorites();\n  const arrForMarkup = displayItems(arrCurrentNews, 1, perPage); // массив для рендера на текущую страницу\n  if (arrForMarkup.length !== 0) {\n    const cardMarkupArray = arrForMarkup.map(el => creatCardMarkup(el)); // массив готовой разметки карточек для рендера на текущую страницу\n\n    box.innerHTML = cardMarkupArray.join('');\n  }\n}\n\ncreatePopularNewsCollection(loadAllFavorites());\n","export function displayItems(arr, page, perPage) {\n  const start = (page - 1) * perPage;\n  const end = start + perPage;\n  const paginatedEl = arr.slice(start, end);\n  return paginatedEl;\n}\n// ф-ция возвращает массив карточек для рендера на \n// текущую страницу(из текущуго массива arrCurrentNews)\n"],"names":["parcelRequire","$2sH7u","$720a0d4441e7b913$export$e04ee5facf472cac","arr","page","perPage","start","end","slice","$f2b37c882cc80f12$var$box","document","querySelector","$f2b37c882cc80f12$var$loader","$f2b37c882cc80f12$var$createPopularNewsCollection","noResultsText","noNewsMarkUp","innerHTML","setTimeout","classList","add","$f2b37c882cc80f12$var$renderNoNews","Array","isArray","window","innerWidth","arrForMarkup","loadAllFavorites","length","cardMarkupArray","map","el","$lAcMk","creatCardMarkup","join","addEventListener","e","target","closest","favId","dataset","id","excludeFavoriteNew","tagName","currentId","currentLi","favArray","$9Ka1f","writeReadStorage"],"version":3,"file":"favorite-main.0e2ebc6d.js.map"}