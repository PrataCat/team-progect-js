{"mappings":"gfAAAA,EAAA,SCCA,IAAAC,EAAAD,EAAA,S,0BAIME,EAAMC,SAASC,cAAc,aAC7BC,EAAWF,SAASC,cAAc,WAClCE,EAAWH,SAASC,cAAc,WAwCxC,SAASG,IACP,IAAMC,EAJCL,SAASM,gBAAgBC,YAMhC,OAAIF,EAAQ,KACH,EACEA,EAAQ,IACV,EAEA,C,CAiBX,SAASG,EAA4BC,GALrC,IACQC,EAON,GAPMA,EAAe,2DAAyEC,OA3D5E,kCA2D4E,kDAC9FZ,EAAIa,UAAYF,EAMG,iBAARD,IAGgB,IAAvBI,MAAMC,QAAQL,GAAlB,CAIA,IAAIM,EAAUX,IAERY,EAxBgE,SAAlDP,EAAKQ,EAAMF,GAC/B,IAAMG,GAASD,EAAO,GAAKF,EACrBI,EAAMD,EAAQH,EAEpB,OADoBN,EAAIW,MAAMF,EAAOC,E,CAqBhBE,EADE,EAAAvB,EAAAwB,oBAC2B,EAAGP,GACpB,GAAL,IAAxBC,EAAaO,OACfrB,EAASsB,UAAUC,IAAI,iBACvBtB,EAASqB,UAAUC,IAAI,qBAClB,CACL,IAAMC,EAAkBV,EAAaW,KAAI,SAAAC,G,OAAM,EAAAC,EAAAC,iBAAgBF,E,IAE/D7B,EAAIa,UAAYc,EAAgBK,KAAK,G,CAZrC,C,CApEJhC,EAAIiC,iBAAiB,SAErB,SAAiBC,GACf,IAAMC,EAAiBD,EAAEE,OAAOX,UAAUY,MAE1C,GACqB,yBAAnBF,GACmB,2BAAnBA,EACA,CACA,IACMG,EADYJ,EAAEE,OAAOG,QAAQ,UACXA,QAAQ,MAAMC,QAAQC,IAE9C,EAAA1C,EAAA2C,oBAAmBJ,GACnBtC,EAAIa,UAAY,GAChBJ,GAA4B,EAAAV,EAAAwB,oB,CAG9B,GAAyB,MAArBW,EAAEE,OAAOO,QAAiB,CAC5B,IAAIC,EAAYV,EAAEE,OAAOG,QAAQ,MAAMC,QAAQC,GAC3CI,EAAYX,EAAEE,OAAOG,QAAQ,MAC3BO,GAAW,EAAA/C,EAAAwB,oBACZwB,GAAQ,EAARC,GAAQ,EAARC,OAAQC,E,IAAb,QAAKC,EAAAC,EAAYN,EAAQO,OAAAC,cAApBP,GAAAI,EAAAC,EAAQG,QAAAC,MAART,GAAQ,GAAR,IAAMlB,EAANsB,EAAQd,MACX,GAAIR,EAAGY,KAAOG,EAGZ,OAFA,EAAAa,EAAAC,kBAAiB7B,QACjBgB,EAAUpB,UAAUC,IAAI,O,WAHvBsB,GAAQ,EAARC,EAAQU,C,aAARZ,GAAQ,MAARK,EAAQQ,QAARR,EAAQQ,Q,YAARZ,E,MAAAC,C,OA+DTxC,GAA4B,EAAAV,EAAAwB,oB","sources":["src/favorite-main.js","src/js/favorite.js"],"sourcesContent":["import './js/header';\nimport './js/favorite';\n","//------------Oleksiy Zhuravlev-----------;\nimport { excludeFavoriteNew, loadAllFavorites } from './library.js';\nimport { creatCardMarkup } from './creatCardMarkup';\nimport { writeReadStorage } from './read-library';\n\nconst box = document.querySelector('.box-news');\nconst footerEl = document.querySelector('.footer');\nconst headerEl = document.querySelector('.header');\n\nlet noResultsText = 'The favorite news list is empty';\n\nbox.addEventListener('click', onClick);\n\nfunction onClick(e) {\n  const curTargetClass = e.target.classList.value;\n\n  if (\n    curTargetClass === 'box-news__favorite-p' ||\n    curTargetClass === 'box-news__favorite-svg'\n  ) {\n    const favButton = e.target.closest('BUTTON');\n    const favId = favButton.closest('li').dataset.id;\n\n    excludeFavoriteNew(favId);\n    box.innerHTML = '';\n    createPopularNewsCollection(loadAllFavorites());\n  }\n  //-----to Read\n  if (e.target.tagName === 'A') {\n    let currentId = e.target.closest('li').dataset.id;\n    let currentLi = e.target.closest('li');\n    const favArray = loadAllFavorites();\n    for (const el of favArray) {\n      if (el.id === currentId) {\n        writeReadStorage(el);\n        currentLi.classList.add('show');\n        return;\n      }\n    }\n  }\n}\n\n// ф-ци возвращае ширину вью порта\nfunction checkWidth() {\n  return document.documentElement.clientWidth;\n}\n\nfunction cardsPerPage() {\n  const width = checkWidth();\n\n  if (width > 1280) {\n    return 8;\n  } else if (width > 768) {\n    return 7;\n  } else {\n    return 4;\n  }\n}\n\n// ф-ция возвращает массив карточек для рендера на текущую страницу (из текущуго массива arrCurrentNews)\nfunction displayItems(arr, page, perPage) {\n  const start = (page - 1) * perPage;\n  const end = start + perPage;\n  const paginatedEl = arr.slice(start, end);\n  return paginatedEl;\n}\n\nfunction renderNoNews(noResultsText) {\n  const noNewsMarkUp = `<div class=\"no-results-wrap\"><p class=\"no-results-text\">${noResultsText}</p><span class=\"no-results-bgr\"></span></div>`;\n  box.innerHTML = noNewsMarkUp;\n}\n\nfunction createPopularNewsCollection(arr) {\n  renderNoNews(noResultsText);\n\n  if (typeof arr !== 'object') {\n    return;\n  }\n  if (Array.isArray(arr) === false) {\n    return;\n  }\n\n  let perPage = cardsPerPage(); // замеряем ширину вью порта\n  const arrCurrentNews = loadAllFavorites();\n  const arrForMarkup = displayItems(arrCurrentNews, 1, perPage); // массив для рендера на текущую страницу\n  if (arrForMarkup.length === 0) {\n    footerEl.classList.add('footer-margin');\n    headerEl.classList.add('header-margin');\n  } else {\n    const cardMarkupArray = arrForMarkup.map(el => creatCardMarkup(el)); // массив готовой разметки карточек для рендера на текущую страницу\n\n    box.innerHTML = cardMarkupArray.join('');\n  }\n}\n\ncreatePopularNewsCollection(loadAllFavorites());\n"],"names":["parcelRequire","$cHsZg","$8bf2312eefa07846$var$box","document","querySelector","$8bf2312eefa07846$var$footerEl","$8bf2312eefa07846$var$headerEl","$8bf2312eefa07846$var$cardsPerPage","width","documentElement","clientWidth","$8bf2312eefa07846$var$createPopularNewsCollection","arr","noNewsMarkUp","concat","innerHTML","Array","isArray","perPage","arrForMarkup","page","start","end","slice","$8bf2312eefa07846$var$displayItems","loadAllFavorites","length","classList","add","cardMarkupArray","map","el","$iF1nq","creatCardMarkup","join","addEventListener","e","curTargetClass","target","value","favId","closest","dataset","id","excludeFavoriteNew","tagName","currentId","currentLi","favArray","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","$aGx0e","writeReadStorage","err","return"],"version":3,"file":"favorite-main.ce3f53e4.js.map"}