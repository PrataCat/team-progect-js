var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},o={},n=e.parcelRequire6b37;null==n&&((n=function(e){if(e in t)return t[e].exports;if(e in o){var n=o[e];delete o[e];var r={id:e,exports:{}};return t[e]=r,n.call(r.exports,r,r.exports),r.exports}var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,t){o[e]=t},e.parcelRequire6b37=n);var r=n("f2q8M"),s=n("lAcMk");function i(e){console.log(e);try{let t=a();return"object"==typeof t&&!1!==Array.isArray(t)||(t=[],console.log(t)),t.unshift(e),l(t),!0}catch(e){return console.error(e.message),!1}}function c(e){try{const t=a(),o=t.findIndex(((t,o)=>t.id===e));return t.splice(o,1),l(t),!0}catch(e){return console.error(e.message),!1}}function l(e){const t="Wrong data to save: array with objects is expected.";if("object"==typeof e)if(!1!==Array.isArray(e))try{const t=JSON.stringify(e);localStorage.setItem("Favorite",t)}catch(e){console.error("Set state error: ",e.message)}else console.log(t);else console.log(t)}function a(){try{const e=localStorage.getItem("Favorite");return null===e?void 0:JSON.parse(e)}catch(e){console.error(e.message)}}const f=document.querySelector(".box-news");f.addEventListener("click",(function(e){if(e.target.closest("BUTTON")){const t=e.target.closest("BUTTON"),o=t.closest("li").dataset.id,n=t.querySelector(".box-news__favorite-p");t.querySelector(".box-news__favorite-svg");t.classList.contains("favorite")?function(e,t,o,n){for(const n of m())if(n.id===t){return void(c(n.id)&&(console.log("Удалил"),e.classList.remove("favorite"),o.textContent="Add to Favorite"))}}(t,o,n):function(e,t,o,n){for(const n of m())if(n.id===t){return void(i(n)&&(console.log("Добавил"),e.classList.add("favorite"),o.textContent="Remove from Favorite"))}}(t,o,n)}})),f.addEventListener("click",(function(e){if(e.preventDefault(),"A"===e.target.tagName){let t=e.target.closest("li").dataset.id,o=e.target.closest("li");for(const e of u){if(console.log("el - ",e),e.id===t)return console.log("Мы нашли ID и вызываем ф-цию READ (include...)"),void o.classList.add("show");console.log("Вышли из функции когда отправили данные")}}}));let d=p(),u=[],g=null;async function v(e){0===u.length&&(u=await e()),g=function(){const e=p();return e>1280?8:e>768?7:4}();const t=function(e,t,o){const n=(t-1)*o,r=n+o;return e.slice(n,r)}(u,1,g);let o=[];!function(e){const t=a();e.forEach((e=>{t.some((t=>e.id===t.id))?(e.add=!0,o.push(e)):(e.add=!1,o.push(e))}))}(t),function(e){f.insertAdjacentHTML("beforeend",e.join(""));const t=document.querySelectorAll(".box-news__favorite-btn");for(const e of t)"true"===e.dataset.status&&(e.firstElementChild.textContent="Remove from Favorite",e.classList.add("favorite"))}(o.map((e=>(0,s.creatCardMarkup)(e))))}function p(){return document.documentElement.clientWidth}function m(){return u}window.addEventListener("resize",(function(){(d<768&&p()>=768||d>=768&&d<1280&&(p()<768||p()>=1280)||d>=1280&&p()<1280)&&v()})),v(r.getMostPopularArticles);
//# sourceMappingURL=index.747829f3.js.map
