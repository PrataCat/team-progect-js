{"mappings":"YAAO,SAASA,IACd,IACE,IAAMC,EAAcC,aAAaC,QAAQ,QAEzC,OAAuB,OAAhBF,EAAuB,GAAKG,KAAKC,MAAMJ,E,CAC9C,MAAOK,GACPC,QAAQC,IAAIF,E,ECNhB,SAASG,EAAgBC,GACvB,IAAQC,EACND,EADMC,SAAUC,EAChBF,EADgBE,MAAOC,EACvBH,EADuBG,IAAKC,EAC5BJ,EAD4BI,eAAgBC,EAC5CL,EAD4CK,UAAWC,EACvDN,EADuDM,QAASC,EAChEP,EADgEO,GAAIC,EACpER,EADoEQ,IAGtE,MAAO,uCAC4BC,OADWF,EAAG,2CAQ+BE,OAP7CH,EAAQ,wVAeGG,OARkCD,EAAI,oYAQJC,OAAlCJ,EAAU,0BAI1CI,OAJkEH,EAAQ,iJAU1EG,OANAP,EAAM,8IAakBO,OAPxBR,EAASS,OAAS,IACdT,EAASU,MAAM,EAAG,KAAO,MACzBV,EACL,wHAKQQ,OADiBL,EAAe,+BAC5BK,OAAJN,EAAI,0L,CCA3B,SAASS,EAAcC,GACrB,IAAMC,EAAUC,SAASC,cAAc,aACjCC,EAAS,mBAEoBR,OAFDI,EAAK,wEAIKJ,OAFTI,EAAK,gGAESJ,OAALI,EAAK,qBAG9BC,EAAQI,mBAAmB,aAAcD,E,CAK9D,SAASE,IAWP,OAVgB7B,IACYuB,MAEKO,KAAI,SAAApB,GACsCA,EAAjEC,SAAiED,EAAvDE,MAAuDF,EAAhDG,IAAzB,IAA8BC,EAA2CJ,EAA3CI,eAA2CJ,EAA3BK,UAA2BL,EAAhBM,QAAgBN,EAAPO,GAErDH,EAAeiB,MAAM,KAAKC,UAAUC,KAAK,KACtD,OAAOxB,EAAgBC,E,KAjD3B,WACE,IAAMwB,EAAUlC,IACVmC,EAAOC,OAAOD,KAAKD,GAEpBG,GAAI,EAAJC,GAAI,EAAJC,OAAIC,E,IAAT,QAAKC,EAAAC,EAAQP,EAAIQ,OAAAC,cAAZP,GAAAI,EAAAC,EAAIG,QAAAC,MAAJT,GAAI,EAAJd,KAAAkB,EAAIM,MACPxC,QAAQC,IAAI0B,EAAQX,OAGS,IAAzBW,EAAQX,MAAMH,gBACTc,EAAQX,MAEfrB,aAAa8C,QAAQ,OAAQ5C,KAAK6C,UAAUf,IAC5CgB,SAASC,UAGX7B,EAAcC,K,UAXXe,GAAI,EAAJC,EAAIa,C,aAAJf,GAAI,MAAJK,EAAIW,QAAJX,EAAIW,Q,YAAJf,E,MAAAC,C,MAaAe,GAAI,EAAJC,GAAI,EAAJC,OAAIhB,E,IAAT,QAAKiB,EAAAC,EAAQtB,OAAOD,KAAKD,GAAQS,OAAAC,cAA5BU,GAAAG,EAAAC,EAAIb,QAAAC,MAAJQ,GAAI,EAA0B,CAA9B/B,KAAAkC,EAAIV,MACKtB,SAASC,cAAc,eAAoBP,OAALI,KAAK,OAAvD,IACMoC,EAAWlC,SAASmC,eAAe,GAAQzC,OAALI,OAC5ChB,QAAQC,IAAImD,GACZ,IAAME,EAAehC,IAErB8B,EAAS/B,mBAAmB,YAAaiC,EAAa5B,KAAK,I,WANxDsB,GAAI,EAAJC,EAAIM,C,aAAJR,GAAI,MAAJI,EAAIL,QAAJK,EAAIL,Q,YAAJE,E,MAAAC,C,GAnBPO,GAyDAxD,QAAQC,IAAIqB,KAEMJ,SAASuC,iBAAiB,cAClCC,SAAQ,SAAAC,GAChBA,EAASC,iBAAiB,SAAS,WAEe,IAA1ClD,EAAKmD,KAAKC,cAAcA,cAAc3C,cAAc,MAAMT,GAE1DqD,EAAO7C,SAASmC,eAAe3C,GACvBiD,EAASxC,cAAc,UAC/B6C,UAAUC,OAAO,aACvBF,EAAKC,UAAUC,OAAO,O","sources":["src/js/read-library.js","src/js/creatCardMarkup.js","src/js/read.js"],"sourcesContent":["export function loadReadStorage() {\n  try {\n    const storageRead = localStorage.getItem('read');\n\n    return storageRead === null ? {} : JSON.parse(storageRead);\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nexport function writeReadStorage(object) {\n  removeFromReadStorage(object);\n  const readObj = loadReadStorage();\n  const currentDate = getCurrentDate();\n  if (!readObj[currentDate]) {\n    readObj[currentDate] = [];\n  }\n  readObj[currentDate].push(object);\n\n  localStorage.setItem('read', JSON.stringify(readObj));\n}\n\nexport function removeFromReadStorage(obj) {\n  const readObj = loadReadStorage();\n\n  for (key of Object.keys(readObj)) {\n    const indexInArray = readObj[key].findIndex(item => item.id === obj.id);\n    if (indexInArray > -1) {\n      console.log(readObj[key]);\n      readObj[key].splice(indexInArray, 1);\n    }\n  }\n  localStorage.setItem('read', JSON.stringify(readObj));\n}\n\nexport function getCurrentDate() {\n  return new Date().toLocaleString().slice(0, 10).split('.').join('/');\n}","function creatCardMarkup(el) {\n  const { abstract, title, url, published_date, image_url, section, id, add } =\n    el;\n\n  return `<li class=\"box-news__item\" data-id=\"${id}\">\n      <p class=\"box-news__section\">${section}</p>\n          <div class=\"box-news___wrap-reading\">\n            <span class=\"box-news__reading\">Alredy read</span>\n            <svg class=\"icon\" width=\"18\" height=\"18\">\n              <use href=\"#icon-check\"></use>\n            </svg> \n          </div>\n          <button id=\"favorite-btn\" class=\"box-news__favorite-btn\" data-status='${add}'>\n              <p id=\"favorite-p\" class=\"box-news__favorite-p\">Add to Favorite</p>\n              <svg class=\"box-news__favorite-svg\" width=\"16\" height=\"16\" id=\"favorite-svg\">\n                <use href=\"#icon-heart\"></use>\n              </svg>\n            </button>\n          <article>\n            <div class=\"box-news__thumb\">\n              <img class=\"box-news__img\" src=\"${image_url}\" loading=\"lazy\" alt=\"${section}\" width='440'/>\n            </div>\n          <div class=\"box-news__wrap-title\">\n            <h2 class=\"box-news__titel\">\n              ${title}\n            </h2>\n          </div>\n          <div class=\"box-news__wrap-text\">\n            <p class=\"box-news__text\">\n              ${\n                abstract.length > 120\n                  ? abstract.slice(0, 110) + '...'\n                  : abstract\n              }\n            </p>\n          </div>\n          <div class=\"box-news__wrap\">\n            <p class=\"box-news__data\">${published_date}</p>\n            <a href=\"${url}\" class=\"box-news__link\" target=\"_blank\" rel=\"noopener noreferrer nofollow\">Read more</a>\n          </div>\n          </article>\n          <div class=\"overlay\"></div>\n        </li>`;\n}\n\nexport { creatCardMarkup };\n\n// return `<li class=\"box-news__item\" data-id=\"${elem.id}\">\n//       <p class=\"box-news__section\">${elem.section}</p>\n//           <div class=\"box-news___wrap-reading\">\n//             <span class=\"box-news__reading\">Alredy read</span>\n//             <svg class=\"icon\" width=\"18\" height=\"18\">\n//               <use href=\"#icon-check\"></use>\n//             </svg>\n//           </div>\n//           <button id=\"favorite-btn\" class=\"box-news__favorite-btn favorite\">\n//               <p id=\"favorite-p\" class=\"box-news__favorite-p\">Add to Favorite</p>\n//               <svg class=\"box-news__favorite-svg\" width=\"16\" height=\"16\" id=\"favorite-svg\">\n//                 <use href=\"#icon-heart\"></use>\n//               </svg>\n//             </button>\n//           <article>\n//             <div class=\"box-news__thumb\">\n//               <img class=\"box-news__img\" src=\"${\n//                 elem.image_url\n//               }\" loading=\"lazy\" alt=\"${elem.section}\" width='440'/>\n//             </div>\n//           <div class=\"box-news__wrap-title\">\n//             <h2 class=\"box-news__titel\">\n//               ${elem.title}\n//             </h2>\n//           </div>\n//           <div class=\"box-news__wrap-text\">\n//             <p class=\"box-news__text\">\n//               ${\n//                 elem.abstract.length > 120\n//                   ? elem.abstract.slice(0, 110) + '...'\n//                   : elem.abstract\n//               }\n//             </p>\n//           </div>\n//           <div class=\"box-news__wrap\">\n//             <p class=\"box-news__data\">${elem.published_date}</p>\n//             <a href=\"${\n//               elem.url\n//             }\" class=\"box-news__link\" target=\"_blank\" rel=\"noopener noreferrer nofollow\">Read more</a>\n//           </div>\n//           </article>\n//           <div class=\"overlay\"></div>\n//         </li>`;\n","//-------Maks & Serj--------------\nimport {\n  loadReadStorage,\n  removeFromReadStorage,\n  getCurrentDate,\n} from './read-library';\n\nimport { creatCardMarkup } from './creatCardMarkup';\n\ncreateReadMarkup();\n\nfunction createReadMarkup() {\n  const readObj = loadReadStorage();\n  const keys = Object.keys(readObj);\n\n  for (date of keys) {\n    console.log(readObj[date]);\n\n    // Удаление пустого массива из Л.С.\n    if (readObj[date].length === 0) {\n      delete readObj[date];\n\n      localStorage.setItem('read', JSON.stringify(readObj));\n      location.reload();\n    }\n\n    createDateBox(date);\n  }\n  for (date of Object.keys(readObj)) {\n    const box = document.querySelector(`[data-date=\"${date}\"]`);\n    const wrapList = document.getElementById(`${date}`);\n    console.log(wrapList);\n    const murkupForBox = createMurkupForBoxItem();\n\n    wrapList.insertAdjacentHTML('beforeend', murkupForBox.join(\"\"));\n  }\n}\n\nfunction createDateBox(date) {\n  const wrapBox = document.querySelector('.wrap-box');\n  const murkup = `<div data-date=\"${date}\">\n    <div class=\"span-wrap\">\n      <span class=\"date-span open\">${date}<span class=\"arrow\"></span></span>\n    </div>\n    <ul class=\"wrap-list box-news open\" id=\"${date}\"></ul>\n  </div>`;\n\n  const makeMurkup = wrapBox.insertAdjacentHTML('afterbegin', murkup);\n\n  return;\n}\n\nfunction createMurkupForBoxItem() {\n  const readObj = loadReadStorage();\n  const getKeyValue = readObj[date]; //массив из объектов\n\n  const createMurkup = getKeyValue.map(el => {\n    const { abstract, title, url, published_date, image_url, section, id } = el;\n    // const foto = media[0] ? media[0]['media-metadata'][2].url : '';\n    const data = published_date.split('-').reverse().join('/');\n    return creatCardMarkup(el);\n  });\n\n  return createMurkup;\n}\n\nconsole.log(createMurkupForBoxItem());\n\nconst dateSpans = document.querySelectorAll('.date-span');\ndateSpans.forEach(dateSpan => {\n  dateSpan.addEventListener('click', function () {\n    // Отримати ідентифікатор 'id' елемента <ul> за допомогою атрибуту 'id'\n    const id = this.parentElement.parentElement.querySelector('ul').id;\n    // Отримати елемент <ul> а допомогою ідентифікатора 'id'\n    const list = document.getElementById(id);\n    const arrow = dateSpan.querySelector('.arrow');\n    arrow.classList.toggle('arrow-bot');\n    list.classList.toggle('open');\n    // Змінити стиль елемента <ul>, щоб його приховати або показати(без анімації)\n    // if (list.classList.contains('active')) {\n    //   list.classList.remove('active');\n    // } else {\n    //   list.classList.add('active');\n    // }\n  });\n});\n\nexport { writeReadStorage };\n"],"names":["$7c776d4421e955ca$export$fcf14f7a08ef2738","storageRead","localStorage","getItem","JSON","parse","error","console","log","$d95d1fc007beb27b$export$c2172e452593faf6","el","abstract","title","url","published_date","image_url","section","id","add","concat","length","slice","$95b4463fc8ac9448$var$createDateBox","date","wrapBox","document","querySelector","murkup","insertAdjacentHTML","$95b4463fc8ac9448$var$createMurkupForBoxItem","map","split","reverse","join","readObj","keys","Object","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","value","setItem","stringify","location","reload","err","return","_iteratorNormalCompletion1","_didIteratorError1","_iteratorError1","_step1","_iterator1","wrapList","getElementById","murkupForBox","err1","$95b4463fc8ac9448$var$createReadMarkup","querySelectorAll","forEach","dateSpan","addEventListener","this","parentElement","list","classList","toggle"],"version":3,"file":"read-main.64373152.js.map"}