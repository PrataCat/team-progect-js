{"mappings":"YAiBA,IAAMA,EAAuB,WAEvBC,EAAMC,SAASC,cAAc,aAiDnC,SAASC,EAAcC,GACrB,IACE,IAAMC,EAAkBC,KAAKC,UAAUH,GACvCI,aAAaC,QAAQV,EAAsBM,E,CAC3C,MAAOK,GACPC,QAAQD,MAAM,oBAAqBA,EAAME,Q,EAI7C,SAASC,IACP,IACE,IAAMR,EAAkBG,aAAaM,QAAQf,GAC7C,OAA2B,OAApBM,OAA2BU,EAAYT,KAAKU,MAAMX,E,CACzD,MAAOK,GACPC,QAAQD,MAAMA,EAAME,Q,EAIxB,SAASK,EAA4Bb,GACnC,IAAMc,EAAuBd,EAC1Be,KAAI,SAAAC,GACH,IAAQC,EAA6DD,EAA7DC,SAAUC,EAAmDF,EAAnDE,MAAOC,EAA4CH,EAA5CG,IAAKC,EAAuCJ,EAAvCI,eAAgBC,EAAuBL,EAAvBK,MAAOC,EAAgBN,EAAhBM,QAASC,EAAOP,EAAPO,GACxDC,EAAOH,EAAM,GAAG,kBAAkB,GAAGF,IACrCM,EAAOL,EAAeM,MAAM,KAAKC,UAAUC,KAAK,KACtD,MAAO,uCACwBC,OADeN,EAAG,2CAUPM,OATXP,EAAQ,sXASgCO,OAA7BL,EAAK,0BACHK,OAD2BP,EAAQ,uEAERO,OAD3BN,EAAG,uGAQrCM,OAP6DN,EAAG,+PAahEM,OANAX,EAAM,8IAakBW,OAPxBZ,EAASa,OAAS,IACdb,EAASc,MAAM,EAAG,KAAO,MACzBd,EACL,wHAKQY,OADiBJ,EAAK,+BACVI,OAAZV,EAAI,UAAWU,OAAHN,EAAG,0L,IAMjCK,KAAK,IAERhC,EAAIoC,mBAAmB,YAAalB,E,CAhHtClB,EAAIqC,iBAAiB,SAErB,SAAiBC,GACf,IAAMC,EAAiBD,EAAEE,OAAOC,UAAUC,MAGrB,kBAAnBH,GACmB,uBAAnBA,IAEAI,WAAaL,EAAEE,OAAOb,GAQnB,SAA4BiB,GACjC,IACE,IAAMC,EAAehC,IAEfiC,EAAaD,EAAaE,WAAU,SAACC,EAAKC,G,OAAQD,EAAIrB,KAAOiB,C,IAKnE,OAHAC,EAAaK,OAAOJ,EAAY,GAEhC3C,EAAc0C,IACP,C,CACP,MAAOnC,GACPC,QAAQD,MAAMA,EAAME,Q,EAjBpBuC,CAAmBR,WACnB3C,EAAIoD,UAAY,GAChBnC,EAA4BJ,K,IAsGhCI,EAA4BJ,I","sources":["src/js/favorite.js"],"sourcesContent":["//------------Oleksiy Zhuravlev-----------\n\n// const doubleButton = document.querySelector('.double-first-new');\n// //console.log(doubleButton);\n// doubleButton.addEventListener('click', onDouble);\n\n// function onDouble(params) {\n//   const arr = loadAllFavorites();\n\n//   const newToDuble = arr.slice(0, 1);\n\n//   // console.log(newToDuble[0]);\n//   includeFavoriteNew(newToDuble[0]);\n//   box.innerHTML = '';\n//   createPopularNewsCollection(loadAllFavorites());\n// }\n\nconst FAVORITE_STORAGE_KEY = 'Favorite';\n\nconst box = document.querySelector('.box-news');\n\nbox.addEventListener('click', onClick);\n\nfunction onClick(e) {\n  const curTargetClass = e.target.classList.value;\n\n  if (\n    curTargetClass === 'box-news__btn' ||\n    curTargetClass === 'box-news__btn-icon'\n  ) {\n    currentId = +e.target.id;\n\n    excludeFavoriteNew(currentId);\n    box.innerHTML = '';\n    createPopularNewsCollection(loadAllFavorites());\n  }\n}\n\nexport function excludeFavoriteNew(newId) {\n  try {\n    const curNewsArray = loadAllFavorites();\n\n    const foundIndex = curNewsArray.findIndex((elm, idx) => elm.id === newId);\n\n    curNewsArray.splice(foundIndex, 1);\n\n    saveFavorites(curNewsArray);\n    return true;\n  } catch (error) {\n    console.error(error.message);\n  }\n  return false;\n}\n\nexport function includeFavoriteNew(theNew) {\n  try {\n    const curNewsArray = loadAllFavorites();\n\n    curNewsArray.unshift(theNew);\n\n    saveFavorites(curNewsArray);\n    return true;\n  } catch (error) {\n    console.error(error.message);\n  }\n  return false;\n}\n\nfunction saveFavorites(arr) {\n  try {\n    const serializedState = JSON.stringify(arr);\n    localStorage.setItem(FAVORITE_STORAGE_KEY, serializedState);\n  } catch (error) {\n    console.error('Set state error: ', error.message);\n  }\n}\n\nfunction loadAllFavorites() {\n  try {\n    const serializedState = localStorage.getItem(FAVORITE_STORAGE_KEY);\n    return serializedState === null ? undefined : JSON.parse(serializedState);\n  } catch (error) {\n    console.error(error.message);\n  }\n}\n\nfunction createPopularNewsCollection(arr) {\n  const markupNewsCollection = arr\n    .map(el => {\n      const { abstract, title, url, published_date, media, section, id } = el;\n      const foto = media[0]['media-metadata'][2].url;\n      const data = published_date.split('-').reverse().join('/');\n      return `<li class=\"box-news__item\" data-id=\"${id}\">\n      <p class=\"box-news__section\">${section}</p>\n          <div class=\"box-news___wrap-reading\">\n            <span class=\"box-news__reading\">Already read</span>\n            <svg class=\"icon\" width=\"18\" height=\"18\">\n              <use href=\"#icon-check\"></use>\n            </svg> \n          </div>\n          <article>\n            <div class=\"box-news__thumb\">\n              <img class=\"box-news__img\" src=\"${foto}\" loading=\"lazy\" alt=\"${section}\" width='440'/>\n              <button class=\"box-news__btn\" id=\"${id}\">Remove from favorite\n                <svg class=\"box-news__btn-icon\" width=\"16\" height=\"16\" id=\"${id}\">\n                  <use href=\"../images/akar-icons_heart-filled.svg\"></use>\n                </svg>\n              </button>\n            </div>\n          <div class=\"box-news__wrap-title\">\n            <h2 class=\"box-news__titel\">\n              ${title}\n            </h2>\n          </div>\n          <div class=\"box-news__wrap-text\">\n            <p class=\"box-news__text\">\n              ${\n                abstract.length > 120\n                  ? abstract.slice(0, 110) + '...'\n                  : abstract\n              }\n            </p>\n          </div>\n          <div class=\"box-news__wrap\">\n            <p class=\"box-news__data\">${data}</p>\n            <a href=\"${url}\" id=\"${id}\" class=\"box-news__link\" target=\"_blank\" rel=\"noopener noreferrer nofollow\">Read more</a>\n          </div>\n          </article>\n          <div class=\"overlay\"></div>\n        </li>`;\n    })\n    .join('');\n\n  box.insertAdjacentHTML('beforeend', markupNewsCollection);\n}\n\ncreatePopularNewsCollection(loadAllFavorites());\n\n// export { excludeFavoriteNew, includeFavoriteNew };\n"],"names":["$8bf2312eefa07846$var$FAVORITE_STORAGE_KEY","$8bf2312eefa07846$var$box","document","querySelector","$8bf2312eefa07846$var$saveFavorites","arr","serializedState","JSON","stringify","localStorage","setItem","error","console","message","$8bf2312eefa07846$var$loadAllFavorites","getItem","undefined","parse","$8bf2312eefa07846$var$createPopularNewsCollection","markupNewsCollection","map","el","abstract","title","url","published_date","media","section","id","foto","data","split","reverse","join","concat","length","slice","insertAdjacentHTML","addEventListener","e","curTargetClass","target","classList","value","currentId","newId","curNewsArray","foundIndex","findIndex","elm","idx","splice","$8bf2312eefa07846$export$c91e3aec03b75cd3","innerHTML"],"version":3,"file":"favorite-main.0ce2a297.js.map"}