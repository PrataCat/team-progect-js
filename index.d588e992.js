!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},o={},n=t.parcelRequire6b37;null==n&&((n=function(e){if(e in r)return r[e].exports;if(e in o){var t=o[e];delete o[e];var n={id:e,exports:{}};return r[e]=n,t.call(n.exports,n,n.exports),n.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){o[e]=t},t.parcelRequire6b37=n);var a=n("bpxeT"),i=n("2TvXO"),s=n("ko9ms"),l=n("iF1nq"),c="Favorite";function u(e){console.log(e);try{var t=v();return"object"==typeof t&&!1!==Array.isArray(t)||(t=[],console.log(t)),t.unshift(e),d(t),!0}catch(e){return console.error(e.message),!1}}function f(e){try{var t=v(),r=t.findIndex((function(t,r){return t.id===e}));return t.splice(r,1),d(t),!0}catch(e){return console.error(e.message),!1}}function d(e){var t="Wrong data to save: array with objects is expected.";if("object"==typeof e)if(!1!==Array.isArray(e))try{var r=JSON.stringify(e);localStorage.setItem(c,r)}catch(e){console.error("Set state error: ",e.message)}else console.log(t);else console.log(t)}function v(){try{var e=localStorage.getItem(c);return null===e?void 0:JSON.parse(e)}catch(e){console.error(e.message)}}var y=document.querySelector(".box-news");y.addEventListener("click",(function(e){if(e.target.closest("BUTTON")){var t=e.target.closest("BUTTON"),r=t.closest("li").dataset.id,o=t.querySelector(".box-news__favorite-p"),n=t.querySelector(".box-news__favorite-svg");t.classList.contains("favorite")?function(e,t,r,o){var n=!0,a=!1,i=void 0;try{for(var s,l=L()[Symbol.iterator]();!(n=(s=l.next()).done);n=!0){var c=s.value;if(c.id===t)return void(f(c.id)&&(console.log("Удалил"),e.classList.remove("favorite"),r.classList.remove("favorite-p"),o.classList.remove("favorite-svg"),r.textContent="Add to Favorite"))}}catch(e){a=!0,i=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw i}}}(t,r,o,n):function(e,t,r,o){var n=!0,a=!1,i=void 0;try{for(var s,l=L()[Symbol.iterator]();!(n=(s=l.next()).done);n=!0){var c=s.value;if(c.id===t)return void(u(c)&&(console.log("Добавил"),e.classList.add("favorite"),r.classList.add("favorite-p"),o.classList.add("favorite-svg"),r.textContent="Remove from Favorite"))}}catch(e){a=!0,i=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw i}}}(t,r,o,n)}})),y.addEventListener("click",(function(e){if(e.preventDefault(),"A"===e.target.tagName){var t=e.target.closest("li").dataset.id,r=e.target.closest("li"),o=!0,n=!1,a=void 0;try{for(var i,s=g[Symbol.iterator]();!(o=(i=s.next()).done);o=!0){var l=i.value;if(console.log("el - ",l),l.id===t)return console.log("Мы нашли ID и вызываем ф-цию READ (include...)"),void r.classList.add("show");console.log("Вышли из функции когда отправили данные")}}catch(e){n=!0,a=e}finally{try{o||null==s.return||s.return()}finally{if(n)throw a}}}}));var g=[],p=null;function h(e){return m.apply(this,arguments)}function m(){return(m=e(a)(e(i).mark((function t(r){var o;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==g.length){e.next=4;break}return e.next=3,r();case 3:g=e.sent;case 4:p=x(),o=b(g,1,p),w(o.map((function(e){return(0,l.creatCardMarkup)(e)})));case 8:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function x(){return 4}function b(e,t,r){var o=(t-1)*r,n=o+r;return e.slice(o,n)}function w(e){y.insertAdjacentHTML("beforeend",e.join(""))}function L(){return g}window.addEventListener("resize",(function(){0})),h(s.getMostPopularArticles)}();
//# sourceMappingURL=index.d588e992.js.map
