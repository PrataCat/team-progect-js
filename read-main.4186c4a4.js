var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},o={},n=e.parcelRequire6b37;null==n&&((n=function(e){if(e in t)return t[e].exports;if(e in o){var n=o[e];delete o[e];var s={id:e,exports:{}};return t[e]=s,n.call(s.exports,s,s.exports),s.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){o[e]=t},e.parcelRequire6b37=n),n("bUb57");var s=n("9Ka1f"),r=n("lAcMk"),a=n("2sH7u");const i=document.querySelector(".footer"),l=document.querySelector(".header"),c=document.querySelector(".wrap-box ");function d(e){const t=`<div data-date="${e}" class="dateList-wrap">\n    <div class="span-wrap">\n      <span class="date-span open">${e}<span class="arrow"></span></span>\n    </div>\n    <ul class="wrap-list box-news open" id="${e}"></ul>\n  </div>`;document.querySelector(".wrap-box").insertAdjacentHTML("afterbegin",t)}function u(e){return(0,s.loadReadStorage)()[e].map((e=>{const{abstract:t,title:o,url:n,published_date:s,image_url:a,section:i,id:l}=e;s.split("-").reverse().join("/");return(0,r.creatCardMarkup)(e)}))}!function(){const e=(0,s.loadReadStorage)(),t=Object.keys(e);if(Object.keys(e).length){for(const o of t)0===e[o].length&&(delete e[o],localStorage.setItem("read",JSON.stringify(e)),location.reload()),d(o);for(const t of Object.keys(e)){document.querySelector(`[data-date="${t}"]`);const e=document.getElementById(`${t}`),o=u(t);e.insertAdjacentHTML("beforeend",o.join(""))}}else i.classList.add("footer-margin"),l.classList.add("header-margin"),function(e){const t=`<div class="no-results-wrap"><p class="no-results-text">${e}</p><span class="no-results-bgr"></span></div>`;c.innerHTML=t}("The read news list is empty")}();function f(){let e=(0,s.loadReadStorage)();return Object.values(e).flat()}document.querySelectorAll(".date-span").forEach((e=>{e.addEventListener("click",(function(){const t=this.parentElement.parentElement.querySelector("ul").id,o=document.getElementById(t);e.querySelector(".arrow").classList.toggle("arrow-bot"),o.classList.toggle("open")}))})),c.addEventListener("click",(function(e){if(e.target.closest("BUTTON")){const t=e.target.closest("BUTTON"),o=t.closest("li").dataset.id,n=t.querySelector(".box-news__favorite-p"),s=t.querySelector(".box-news__favorite-svg");console.log(n),t.classList.contains("favorite")?function(e,t,o,n){for(const s of f())if(s.id===t){return void((0,a.excludeFavoriteNew)(s.id)&&(console.log("Удалил"),e.classList.remove("favorite"),o.classList.remove("favorite-p"),n.classList.remove("favorite-svg"),o.textContent="Add to Favorite"))}}(t,o,n,s):function(e,t,o,n){for(const s of f())if(s.id===t){return void((0,a.includeFavoriteNew)(s)&&(console.log("Добавил"),e.classList.add("favorite"),o.classList.add("favorite-p"),n.classList.add("favorite-svg"),o.textContent="Remove from Favorite"))}}(t,o,n,s)}}));
//# sourceMappingURL=read-main.4186c4a4.js.map
