{"mappings":"CAmCWA,eAAqBC,GAC9B,MACMC,QAAiBC,MADX,8GAEV,IAAKD,EAASE,GACb,MAAM,IAAIC,MAAM,SAGhB,aADmBH,EAASI,M,EAvCtBC,GAAQC,MAAMC,IAEvBC,EAAWD,EAAK,IAISE,UAAhBC,YAAYC,oBAAmBC,IAEpCA,EAASC,QAAS,EAAM,CAC3B,MAAMC,SAAEA,EAAQC,UAAEA,GAAcH,EAASC,QAY1Cf,eAA2BkB,EAAKC,GAChC,MAAMC,EAAM,8FAA8FF,SAAWC,iBAChHjB,QAAiBC,MAAMiB,GAC3B,IAAKlB,EAASE,GACZ,MAAM,IAAIC,MAAM,SAGjB,aADmBH,EAASI,M,EAf9Be,CAFU,GAAGL,IACH,GAAGC,KACUT,MAAMC,IAC1Ba,EAAIC,WAAWC,SAEhBd,EAAWD,EAAK,G,KAejB,MAAMa,EAAMG,SAASC,cAAc,aAapC,SAAShB,EAAWiB,GAMnB,MAAMC,EAAOC,KAAKC,MAAMH,EAAII,KAAKH,MAE3BI,EAAK,IAAIC,KAETC,EACC,gDAAgDP,EAAIQ,gDACrBP,qGAEAD,EAAIS,QAAQ,GAAGL,2UAIqBJ,EAAIU,8IAIDV,EAAIS,QAAQ,GAAGE,qBAAqBX,EAAIY,iDACjFP,EAAGQ,cAAcC,MAAM,EAAG,kDACzBT,EAAGQ,cAAcC,MAAM,EAAE,mHAG7DnB,EAAIoB,mBAAmB,aAAcR,GAGrBT,SAASkB,eAAe,cAEhCC,iBAAiB,QAASC,E,CAGpC,SAASA,EAAmBC,GAC1BA,EAAEC,iBAEF,MAAMC,EAAYF,EAAEG,cAAcC,MAEhC,GAAgB,KAAZJ,EAAEI,MAAc,CAEd,OAAQC,MADS,+B,CAGnBH,EAAUI,OACVC,QAAQC,KAAK,WAKTnD,MAFQ,2FAA2F6C,kBAExFxC,MAAM+C,IAEd,IAAKA,EAAInD,GACN,MAAM,IAAIC,MAAM,SAEhB,OAAOkD,EAAIjD,MAAM,IAClBE,MAAMC,IACHa,EAAIC,WAAWC,SAEjBd,EAAWD,EAAK,G","sources":["src/js/weather.js"],"sourcesContent":["//------Tanya,\n //  ============== по умолчанию\nfetchWeatherCity().then((data) =>{\n  // console.log(data);\n  createCard(data);\n})\n\n// ======== запрос разрешения геолокации\n navigator.geolocation.getCurrentPosition(position => {\n  //  console.log(position.coords)\n  if (position.coords = true) {\n   const { latitude, longitude } = position.coords;\n  let lat = `${latitude}`;\n  let lon = `${longitude}`;\n  fetchWeather(lat, lon).then((data) =>{\n     box.firstChild.remove()\n    // console.log(data);\n    createCard(data);\n  });\n }\n});\n // ===========  по геолокации\n const KEY = 'а66723ff7785b663e20297f90d8a0e90'\n async function fetchWeather(lat, lon){ \n  const URL = `https://api.openweathermap.org/data/2.5/weather?APPID=a66723ff7785b663e20297f90d8a0e90&lat=${lat}&lon=${lon}&units=metric`\n const response = await fetch(URL);\n   if (!response.ok) {\n     throw new Error('Error');\n   }\n    const data = await response.json();\n    return data;\n   };\n   const box = document.querySelector('.box-news')\n\n //  ============== по умолчанию\nasync function fetchWeatherCity(q){ \n  const URL = `https://api.openweathermap.org/data/2.5/weather?APPID=a66723ff7785b663e20297f90d8a0e90&q=Kyiv&units=metric` \n  const response = await fetch(URL);\n    if (!response.ok) {\n     throw new Error('Error');\n    }\n     const data = await response.json();\n     return data;\n  };\n  // ============== CARD\n  function createCard(arr){\n  //   console.log(arr.dt.toString());\n  //  console.log(arr.id);\n  //  console.log(Math.floor(arr.main.temp));\n  //  console.log(arr.weather[0].main);\n  //  console.log(arr.weather[0].icon);\n   const temp = Math.floor(arr.main.temp);\n  //  console.log(arr.name)\n   const d1 = new Date();\n  //  console.log(d1.toUTCString());\n   const marcup =\n          `<li class=\"box-weather__item box \" data-id= \"${arr.id}\">\n               <p class=\"weather-temp\">${temp}&deg</p>\n             <div class=\"weather-city-group\"> \n               <p class=\"weather-main\">${arr.weather[0].main}</p> \n               <form class=\"search-form\">\n               <svg class=\"icon icon-carbon_location-filled\" width=\"14\" height=\"14\">\n               <use href=\"./header-sprite.svg#icon-carbon_location-filled\" width=\"14\" height=\"14\"\"></use></svg>\n               <input type=\"text\" id=\"search-box\" placeholder=\"            ${arr.name}\"/>\n            </form>\n             </div>\n        \n             <img class=\"weather-icon\" src=\" http://openweathermap.org/img/wn/${arr.weather[0].icon}@2x.png\" alt=\"${arr.title}\">\n               <p class= weather-day>${d1.toUTCString().slice(0, 3)}</p> \n               <p class= weather-data>${d1.toUTCString().slice(5,17)}</p> \n               <button class=\"weather-week\" type=\"submit\"> weather for week</button>\n           </li>`\n    box.insertAdjacentHTML(\"afterbegin\" ,marcup);\n  // =========== доступ к кнопкам, вешаем слушателей==========\n    // ======город\n    const inputEl = document.getElementById('search-box');\n    // console.log(inputEl);\n    inputEl.addEventListener(\"input\", onSubmitSearchCity);\n   // ======погода на 5 дней\n  } \n  function onSubmitSearchCity(e){\n    e.preventDefault();\n    // console.log('sos')\n    const valueCity = e.currentTarget.value;\n    // console.log(valueCity)\n      if (e.value === '') {\n            const message = (\"Поле повинно бути заповнено.\")\n            return  alert(message);  \n        } else {\n         (valueCity.length === 0)\n          console.info(\"no sity\");\n        }\n          // console.log('City:', valueCity);\n          const URL = `http://api.openweathermap.org/data/2.5/weather?APPID=a66723ff7785b663e20297f90d8a0e90&q=${valueCity}&units=metric` \n          //  const URL = `http://api.openweathermap.org/data/2.5/weather?APPID=a66723ff7785b663e20297f90d8a0e90&units=metric&id=700022`\n              fetch(URL).then((res) => {\n                //  console.log(res)\n                 if (!res.ok) {\n                    throw new Error('Error');\n                  }\n                    return res.json();\n                }).then((data) => {\n                      box.firstChild.remove()\n                      // console.log(data);\n                    createCard(data)});\n        \n        }\n\n  function onError(error) {\n    console.error(error);\n  }\n  \nexport {createCard};\n\n\n\n\n\n\n// Vika--------\n"],"names":["async","q","response","fetch","ok","Error","json","$83ee39fa453a4c23$var$fetchWeatherCity","then","data","$83ee39fa453a4c23$export$b7316deff43c35f7","navigator","geolocation","getCurrentPosition","position","coords","latitude","longitude","lat","lon","URL","$83ee39fa453a4c23$var$fetchWeather","$83ee39fa453a4c23$var$box","firstChild","remove","document","querySelector","arr","temp","Math","floor","main","d1","Date","marcup","id","weather","name","icon","title","toUTCString","slice","insertAdjacentHTML","getElementById","addEventListener","$83ee39fa453a4c23$var$onSubmitSearchCity","e","preventDefault","valueCity","currentTarget","value","alert","length","console","info","res"],"version":3,"file":"index.98ec0bad.js.map"}