var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},e={},i={},n=t.parcelRequire6b37;null==n&&((n=function(t){if(t in e)return e[t].exports;if(t in i){var n=i[t];delete i[t];var o={id:t,exports:{}};return e[t]=o,n.call(o.exports,o,o.exports),o.exports}var r=new Error("Cannot find module '"+t+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(t,e){i[t]=e},t.parcelRequire6b37=n);var o=n("50Kfe");let r=[],s=window.innerWidth;const l=document.querySelector(".filter__main-category-list"),a=document.querySelector(".filter__others-category-list"),c=document.querySelector(".filter__other-category-wrap");function d(t,e){let i=0,n="";e>=1280?(i=6,n="Others"):e>767&&e<1280?(i=4,n="Others"):e<=767&&(i=0,n="Categories"),function(t,e,i){let n="",o="";t.map((({display_name:t},i)=>{i<e?n+=`<li class="filter__main-category-item"><button class="filter__main-category-btn">${t}  </button></li>`:o+=`<li class="filter__others-category-item"><button class="filter__others-category-btn">${t}</button></li>`})),l.innerHTML=n,l.insertAdjacentHTML("beforeend",`<li class="filter__other-category-item"><button class="filter__main-category-btn others-btn">${i}<svg class="filter__main-category-btn-icon"> <use href="../images/symbol-defs-mini.svg#icon-orig-mini-n-z"> </use> </svg>\n</button></li>`),a.innerHTML=o}(t,i,n)}function f(t){!a.classList.contains("visible")||t.target.classList.contains("filter__others-category-item")||t.target.classList.contains("filter__others-category-list")||(a.classList.remove("visible"),c.classList.remove("visible"),window.removeEventListener("click",f))}fetch("https://api.nytimes.com/svc/news/v3/content/section-list.json?api-key=OotKL5nYMsbXFbPHNmmUjf7brVnGZQ8G").then((t=>{if(!t.ok)throw new Error("error");return t.json()})).then((({results:t})=>{r=t,d(r,s)})).catch((t=>{console.log(t)})),l.addEventListener("click",(function(t){!function(t){const e=document.querySelectorAll(".filter__main-category-btn");for(const t of e)t.classList.contains("active")&&t.classList.remove("active");"button"===t.target.localName&&t.target.classList.add("active")}(t);t.target.outerText})),l.addEventListener("click",(function(t){t.target.classList.contains("others-btn")&&(t.stopPropagation(),a.classList.toggle("visible"),c.classList.toggle("visible"),window.addEventListener("click",f))})),a.addEventListener("click",(function(t){if("button"===t.target.localName){let e=t.target.textContent;const i=l.lastChild;i.firstChild.textContent=e}})),window.addEventListener("resize",o((function(){(window.innerWidth>=1280&&s<1280||window.innerWidth>767&&window.innerWidth<1280&&(s<=767||s>=1280)||window.innerWidth<=767&&s>767)&&(s=window.innerWidth,d(r,s))}),50));
//# sourceMappingURL=index.0fb37337.js.map
