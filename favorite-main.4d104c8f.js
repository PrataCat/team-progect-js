!function(){var e="Favorite";function n(e){try{var n=a(),r=n.findIndex((function(n,t){return n.id===e}));return n.splice(r,1),t(n),!0}catch(e){return console.error(e.message),!1}}function t(n){var t="Wrong data to save: array with objects is expected.";if("object"==typeof n)if(!1!==Array.isArray(n))try{var a=JSON.stringify(n);localStorage.setItem(e,a)}catch(e){console.error("Set state error: ",e.message)}else console.log(t);else console.log(t)}function a(){try{var n=localStorage.getItem(e);return null===n?void 0:JSON.parse(n)}catch(e){console.error(e.message)}}function r(){try{var e=localStorage.getItem("read");return null===e?{}:JSON.parse(e)}catch(e){console.log(e)}}function o(e){var n,t,o,s,c,i,l=e.abstract,d=e.title,u=e.url,v=e.published_date,_=e.image_url,f=e.section,b=e.id,g=(n=e,t=a()||[],o=r()||{},s=Object.values(o).flat(),c=t.find((function(e){return n.id===e.id})),i=s.find((function(e){return n.id===e.id})),rezult={fav:!!c,read:!!i});return'<li class="box-news__item '.concat(g.read?"show":"",'" data-id="').concat(b,'">\n      <p class="box-news__section">').concat(f,'</p>\n          <div class="box-news___wrap-reading">\n            <span class="box-news__reading">Alredy read</span>\n            <svg class="icon" width="18" height="18">\n              <use href="#icon-check"></use>\n            </svg> \n          </div>\n          <button class="box-news__favorite-btn ').concat(g.fav?"favorite":"",'">\n              <p class="box-news__favorite-p"> ').concat(g.fav?"Remove from Favorite":"Add to Favorite",'</p>\n              <svg class="box-news__favorite-svg" width="16" height="16"">\n                <use href="#icon-heart"></use>\n              </svg>\n            </button>\n          <article>\n            <div class="box-news__thumb">\n              <img class="box-news__img" src="').concat(_,'" loading="lazy" alt="').concat(f,'" width=\'440\'/>\n            </div>\n          <div class="box-news__wrap-title">\n            <h2 class="box-news__titel">\n              ').concat(d,'\n            </h2>\n          </div>\n          <div class="box-news__wrap-text">\n            <p class="box-news__text">\n              ').concat(l.length>120?l.slice(0,110)+"...":l,'\n            </p>\n          </div>\n          <div class="box-news__wrap">\n            <p class="box-news__data">').concat(v,'</p>\n            <a href="').concat(u,'" class="box-news__link" target="_blank" rel="noopener noreferrer nofollow">Read more</a>\n          </div>\n          </article>\n          <div class="overlay"></div>\n        </li>')}var s=document.querySelector(".box-news");function c(){var e=document.documentElement.clientWidth;return e>1280?8:e>768?7:4}function i(e){if("object"==typeof e&&!1!==Array.isArray(e)){perPage=c();var n=function(e,n,t){var a=(n-1)*t,r=a+t;return e.slice(a,r)}(a(),page=1,perPage),t=n.map((function(e){return o(e)}));s.insertAdjacentHTML("beforeend",t.join(""))}}s.addEventListener("click",(function(e){var t=e.target.classList.value;"box-news__btn"!==t&&"box-news__btn-icon"!==t||(currentId=+e.target.id,n(currentId),s.innerHTML="",i(a()))})),i(a())}();
//# sourceMappingURL=favorite-main.4d104c8f.js.map
