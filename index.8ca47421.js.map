{"mappings":"iiBAEA,IAAAA,EAAAC,EAAA,S,uBAiCgCC,G,OAAjBC,EAAgBC,MAAAC,KAAAC,U,EAjC/BC,GAAmBC,MAAK,SAACC,GAEvBC,EAAWD,E,IAIcE,UAAhBC,YAAYC,oBAAmB,SAAAC,GAEpCA,EAASC,QAAS,EACrB,IAAgCC,EAAAF,EAASC,OAAjCE,EAAwBD,EAAxBC,SAAUC,EAAcF,EAAdE,W,SAYQC,EAAKC,G,OAAlBC,EAAYjB,MAAAC,KAAAC,U,EAT1BgB,CAFU,GAAYC,OAATN,GACH,GAAaM,OAAVL,IACUV,MAAK,SAACC,GAC3Be,EAAIC,WAAWC,SAEfhB,EAAWD,E,gBAMCY,I,OAAAA,EAAfM,EAAA3B,EAAA,CAAA2B,EAAAC,GAAAC,MAAA,SAAAC,EAA4BX,EAAKC,G,IAC1BW,EACDC,EAIGvB,E,yEALFsB,EAAM,6FAAwGR,OAAXJ,EAAI,SAAWI,OAAJH,EAAI,iB,SAClGa,MAAMF,G,WAAvBC,EAAQE,EAAAC,MACEC,GAAE,C,eACd,MAAM,IAAIC,MAAM,S,uBAEEL,EAASM,O,cAAtB7B,EAAIyB,EAAAC,K,kBACH1B,G,6CAPiBL,MAAAC,KAAAC,U,CASzB,IAAMkB,EAAMe,SAASC,cAAc,a,SAGvBrC,I,OAAAA,EAAfwB,EAAA3B,EAAA,CAAA2B,EAAAC,GAAAC,MAAA,SAAAC,EAAgC5B,G,IAExB8B,EAIGvB,E,wEALI,4G,SACUwB,MADV,6G,WACPD,EAAQE,EAAAC,MACEC,GAAE,C,eACf,MAAM,IAAIC,MAAM,S,uBAEGL,EAASM,O,cAAtB7B,EAAIyB,EAAAC,K,kBACH1B,G,6CAPmBL,MAAAC,KAAAC,U,CAU7B,SAASI,EAAW+B,GAMnB,IAAMC,EAAOC,KAAKC,MAAMH,EAAII,KAAKH,MAE3BI,EAAK,IAAIC,KAETC,EACC,gDAC+BzB,OADiBkB,EAAIQ,GAAG,+CAGxB1B,OAFAmB,EAAK,qGAGkBnB,OADvBkB,EAAIS,QAAQ,GAAGL,KAAK,yEAImBtB,OAHhBkB,EAAIU,KAAK,4HAG2C5B,OAApCkB,EAAIS,QAAQ,GAAGE,KAAK,kBAC7D7B,OAD6EkB,EAAIY,MAAM,6CAEtF9B,OADDuB,EAAGQ,cAAcC,MAAM,EAAG,GAAG,iDACChC,OAA7BuB,EAAGQ,cAAcC,MAAM,EAAE,IAAI,iHAGjE/B,EAAIgC,mBAAmB,aAAcR,E","sources":["src/js/weather.js"],"sourcesContent":["//------Tanya,\n //  ============== по умолчанию\nfetchWeatherCity().then((data) =>{\n  // console.log(data);\n  createCard(data);\n})\n\n// ======== запрос разрешения геолокации\n navigator.geolocation.getCurrentPosition(position => {\n  //  console.log(position.coords)\n  if (position.coords = true) {\n   const { latitude, longitude } = position.coords;\n  let lat = `${latitude}`;\n  let lon = `${longitude}`;\n  fetchWeather(lat, lon).then((data) =>{\n    box.firstChild.remove()\n    // console.log(data);\n    createCard(data);\n  });\n }\n});\n // ===========  по геолокации\n const KEY = 'а66723ff7785b663e20297f90d8a0e90'\n async function fetchWeather(lat, lon){ \n  const URL = `http://api.openweathermap.org/data/2.5/weather?APPID=a66723ff7785b663e20297f90d8a0e90&lat=${lat}&lon=${lon}&units=metric`\n const response = await fetch(URL);\n   if (!response.ok) {\n     throw new Error('Error');\n   }\n    const data = await response.json();\n    return data;\n   };\n   const box = document.querySelector('.box-news')\n\n //  ============== по умолчанию\nasync function fetchWeatherCity(q){ \n  const URL = `http://api.openweathermap.org/data/2.5/weather?APPID=a66723ff7785b663e20297f90d8a0e90&q=Kyiv&units=metric` \n  const response = await fetch(URL);\n    if (!response.ok) {\n     throw new Error('Error');\n    }\n     const data = await response.json();\n     return data;\n  };\n  // ============== CARD\n  function createCard(arr){\n  //   console.log(arr.dt.toString());\n  //  console.log(arr.id);\n  //  console.log(Math.floor(arr.main.temp));\n  //  console.log(arr.weather[0].main);\n  //  console.log(arr.weather[0].icon);\n   const temp = Math.floor(arr.main.temp);\n  //  console.log(arr.name)\n   const d1 = new Date();\n  //  console.log(d1.toUTCString());\n   const marcup =\n          `<li class=\"box-weather__item box \" data-id= \"${arr.id}\">\n               <p class=\"weather-temp\">${temp}&deg</p>\n             <div class=\"weather-city-group\"> \n               <p class=\"weather-main\">${arr.weather[0].main}</p> \n               <button class=\"btn__select-city\" type=\"submit\">${arr.name}</button>\n             </div>\n        \n             <img class=\"weather-icon\" src=\" http://openweathermap.org/img/wn/${arr.weather[0].icon}@2x.png\" alt=\"${arr.title}\">\n               <p class= weather-day>${d1.toUTCString().slice(0, 3)}</p> \n               <p class= weather-data>${d1.toUTCString().slice(5,17)}</p> \n               <button class=\"weather-week\" type=\"submit\"> weather for week</button>\n           </li>`\n    box.insertAdjacentHTML(\"afterbegin\" ,marcup);\n  } \n\n  function onError(err) {\n    console.error(err);\n  }\n  \nexport {createCard};\n\n\n\n\n\n\n// Vika--------\n"],"names":["$bpxeT","parcelRequire","q","$b7c37e8f14632f7d$var$_fetchWeatherCity","apply","this","arguments","$b7c37e8f14632f7d$var$fetchWeatherCity","then","data","$b7c37e8f14632f7d$export$b7316deff43c35f7","navigator","geolocation","getCurrentPosition","position","coords","_coords","latitude","longitude","lat","lon","$b7c37e8f14632f7d$var$_fetchWeather","$b7c37e8f14632f7d$var$fetchWeather","concat","$b7c37e8f14632f7d$var$box","firstChild","remove","$parcel$interopDefault","$2TvXO","mark","_callee","URL","response","fetch","_ctx","sent","ok","Error","json","document","querySelector","arr","temp","Math","floor","main","d1","Date","marcup","id","weather","name","icon","title","toUTCString","slice","insertAdjacentHTML"],"version":3,"file":"index.8ca47421.js.map"}