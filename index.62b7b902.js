!function(){var t=window.innerWidth,e=document.querySelector(".filter__main-category-list"),i=document.querySelector(".filter__others-category-list"),n=document.querySelector(".filter__other-category-wrap");function s(){i.classList.contains("visible")&&(i.classList.remove("visible"),n.classList.remove("visible"),window.removeEventListener("click",s))}fetch("".concat("https://api.nytimes.com/svc/news/v3/content/section-list.json").concat("?api-key=OotKL5nYMsbXFbPHNmmUjf7brVnGZQ8G")).then((function(t){if(!t.ok)throw new Error("error");return t.json()})).then((function(n){!function(t,n){var s="",r="";n>767&&n<1279?t.map((function(t,e){var i=t.display_name;e<=3?s+='<li class="filter__main-category-item"><button class="filter__main-category-btn">'.concat(i,"  </button></li>"):r+='<li class="filter__others-category-item"><button class="filter__others-category-btn">'.concat(i,"</button></li>")})):t.map((function(t,e){var i=t.display_name;e<=5?s+='<li class="filter__main-category-item"><button class="filter__main-category-btn">'.concat(i,"  </button></li>"):r+='<li class="filter__others-category-item"><button class="filter__others-category-btn">'.concat(i,"</button></li>")}));e.innerHTML=s,e.insertAdjacentHTML("beforeend",'<li class="filter__other-category-item"><button class="filter__main-category-btn others-btn">Others<svg class="filter__main-category-btn-icon"> <use href="../images/symbol-defs-mini.svg#icon-orig-mini-n-z"> </use> </svg>\n</button></li>'),i.innerHTML=r}(n.results,t)})),e.addEventListener("click",(function(t){var e=document.querySelectorAll(".filter__main-category-btn"),i=!0,n=!1,s=void 0;try{for(var r,o=e[Symbol.iterator]();!(i=(r=o.next()).done);i=!0){var a=r.value;a.classList.contains("active")&&a.classList.remove("active")}}catch(t){n=!0,s=t}finally{try{i||null==o.return||o.return()}finally{if(n)throw s}}"button"===t.target.localName&&t.target.classList.add("active")})),e.addEventListener("click",(function(t){t.target.classList.contains("others-btn")&&(t.stopPropagation(),i.classList.toggle("visible"),n.classList.toggle("visible"),window.addEventListener("click",s))})),i.addEventListener("click",(function(t){var s=t.target.textContent;e.lastChild.firstChild.textContent=s,n.classList.contains("visible")&&(i.classList.remove("visible"),n.classList.remove("visible"))}))}();
//# sourceMappingURL=index.62b7b902.js.map
