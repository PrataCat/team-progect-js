!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},n={},o=t.parcelRequire6b37;null==o&&((o=function(e){if(e in r)return r[e].exports;if(e in n){var t=n[e];delete n[e];var o={id:e,exports:{}};return r[e]=o,t.call(o.exports,o,o.exports),o.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){n[e]=t},t.parcelRequire6b37=o);var a=o("bpxeT"),i=o("2TvXO"),l=o("ko9ms"),s=o("iF1nq"),c="Favorite";function u(e){console.log(e);try{var t=v();return"object"==typeof t&&!1!==Array.isArray(t)||(t=[],console.log(t)),t.unshift(e),d(t),!0}catch(e){return console.error(e.message),!1}}function f(e){try{var t=v(),r=t.findIndex((function(t,r){return t.id===e}));return t.splice(r,1),d(t),!0}catch(e){return console.error(e.message),!1}}function d(e){var t="Wrong data to save: array with objects is expected.";if("object"==typeof e)if(!1!==Array.isArray(e))try{var r=JSON.stringify(e);localStorage.setItem(c,r)}catch(e){console.error("Set state error: ",e.message)}else console.log(t);else console.log(t)}function v(){try{var e=localStorage.getItem(c);return null===e?void 0:JSON.parse(e)}catch(e){console.error(e.message)}}var y=document.querySelector(".box-news");y.addEventListener("click",(function(e){if(e.target.closest("BUTTON")){var t=e.target.closest("BUTTON"),r=t.closest("li").dataset.id,n=t.querySelector(".box-news__favorite-p");t.querySelector(".box-news__favorite-svg");t.classList.contains("favorite")?function(e,t,r,n){var o=!0,a=!1,i=void 0;try{for(var l,s=L()[Symbol.iterator]();!(o=(l=s.next()).done);o=!0){var c=l.value;if(c.id===t)return void(f(c.id)&&(console.log("Удалил"),e.classList.remove("favorite"),r.textContent="Add to Favorite"))}}catch(e){a=!0,i=e}finally{try{o||null==s.return||s.return()}finally{if(a)throw i}}}(t,r,n):function(e,t,r,n){var o=!0,a=!1,i=void 0;try{for(var l,s=L()[Symbol.iterator]();!(o=(l=s.next()).done);o=!0){var c=l.value;if(c.id===t)return void(u(c)&&(console.log("Добавил"),e.classList.add("favorite"),r.textContent="Remove from Favorite"))}}catch(e){a=!0,i=e}finally{try{o||null==s.return||s.return()}finally{if(a)throw i}}}(t,r,n)}})),y.addEventListener("click",(function(e){if(e.preventDefault(),"A"===e.target.tagName){var t=e.target.closest("li").dataset.id,r=e.target.closest("li"),n=!0,o=!1,a=void 0;try{for(var i,l=p[Symbol.iterator]();!(n=(i=l.next()).done);n=!0){var s=i.value;if(console.log("el - ",s),s.id===t)return console.log("Мы нашли ID и вызываем ф-цию READ (include...)"),void r.classList.add("show");console.log("Вышли из функции когда отправили данные")}}catch(e){o=!0,a=e}finally{try{n||null==l.return||l.return()}finally{if(o)throw a}}}}));var g=w(),p=[],h=null;function m(e){return x.apply(this,arguments)}function x(){return(x=e(a)(e(i).mark((function t(r){var n,o,a;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=function(e){var t=v();e.forEach((function(e){t.some((function(t){return e.id===t.id}))?(e.add=!0,o.push(e)):(e.add=!1,o.push(e))}))},0!==p.length){e.next=5;break}return e.next=4,r();case 4:p=e.sent;case 5:h=b(),n=S(p,1,h),o=[],a(n),A(o.map((function(e){return(0,s.creatCardMarkup)(e)})));case 12:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function b(){var e=w();return e>1280?8:e>768?7:4}function w(){return document.documentElement.clientWidth}function S(e,t,r){var n=(t-1)*r,o=n+r;return e.slice(n,o)}function A(e){y.insertAdjacentHTML("beforeend",e.join(""));var t=document.querySelectorAll(".box-news__favorite-btn"),r=!0,n=!1,o=void 0;try{for(var a,i=t[Symbol.iterator]();!(r=(a=i.next()).done);r=!0){var l=a.value;"true"===l.dataset.status&&(l.firstElementChild.textContent="Remove from Favorite",l.classList.add("favorite"))}}catch(e){n=!0,o=e}finally{try{r||null==i.return||i.return()}finally{if(n)throw o}}}function L(){return p}window.addEventListener("resize",(function(){(g<768&&w()>=768||g>=768&&g<1280&&(w()<768||w()>=1280)||g>=1280&&w()<1280)&&m()})),m(l.getMostPopularArticles)}();
//# sourceMappingURL=index.c2904787.js.map
