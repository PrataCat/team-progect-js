const t=window.innerWidth,e=document.querySelector(".filter__main-category-list"),i=document.querySelector(".filter__others-category-list"),s=document.querySelector(".filter__other-category-wrap");function n(){i.classList.contains("visible")&&(i.classList.remove("visible"),s.classList.remove("visible"),window.removeEventListener("click",n))}fetch("https://api.nytimes.com/svc/news/v3/content/section-list.json?api-key=OotKL5nYMsbXFbPHNmmUjf7brVnGZQ8G").then((t=>{if(!t.ok)throw new Error("error");return t.json()})).then((({results:s})=>{!function(t,s){let n="",o="";s>767&&s<1279?t.map((({display_name:t},e)=>{e<=3?n+=`<li class="filter__main-category-item"><button class="filter__main-category-btn">${t}  </button></li>`:o+=`<li class="filter__others-category-item"><button class="filter__others-category-btn">${t}</button></li>`})):t.map((({display_name:t},e)=>{e<=5?n+=`<li class="filter__main-category-item"><button class="filter__main-category-btn">${t}  </button></li>`:o+=`<li class="filter__others-category-item"><button class="filter__others-category-btn">${t}</button></li>`}));e.innerHTML=n,e.insertAdjacentHTML("beforeend",'<li class="filter__other-category-item"><button class="filter__main-category-btn others-btn">Others<svg class="filter__main-category-btn-icon"> <use href="../images/symbol-defs-mini.svg#icon-orig-mini-n-z"> </use> </svg>\n</button></li>'),i.innerHTML=o}(s,t)})),e.addEventListener("click",(function(t){const e=document.querySelectorAll(".filter__main-category-btn");for(const t of e)t.classList.contains("active")&&t.classList.remove("active");"button"===t.target.localName&&t.target.classList.add("active")})),e.addEventListener("click",(function(t){t.target.classList.contains("others-btn")&&(t.stopPropagation(),i.classList.toggle("visible"),s.classList.toggle("visible"),window.addEventListener("click",n))})),i.addEventListener("click",(function(t){let n=t.target.textContent;console.log(t.currentTarget);const o=e.lastChild;o.firstChild.textContent=n,console.log(n),s.classList.contains("visible")&&(i.classList.remove("visible"),s.classList.remove("visible"))}));
//# sourceMappingURL=index.c87b3829.js.map
