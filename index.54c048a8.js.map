{"mappings":"iiBAEA,IAAAA,EAAAC,EAAA,S,uBAiCgCC,G,OAAjBC,EAAgBC,MAAAC,KAAAC,U,EAjC/BC,GAAmBC,MAAK,SAACC,GAEvBC,EAAWD,E,IAIcE,UAAhBC,YAAYC,oBAAmB,SAAAC,GAEpCA,EAASC,QAAS,EACrB,IAAgCC,EAAAF,EAASC,OAAjCE,EAAwBD,EAAxBC,SAAUC,EAAcF,EAAdE,W,SAYQC,EAAKC,G,OAAlBC,EAAYjB,MAAAC,KAAAC,U,EAT1BgB,CAFU,GAAYC,OAATN,GACH,GAAaM,OAAVL,IACUV,MAAK,SAACC,GAC1Be,EAAIC,WAAWC,SAEhBhB,EAAWD,E,gBAMCY,I,OAAAA,EAAfM,EAAA3B,EAAA,CAAA2B,EAAAC,GAAAC,MAAA,SAAAC,EAA4BX,EAAKC,G,IAC1BW,EACDC,EAIGvB,E,yEALFsB,EAAM,8FAAyGR,OAAXJ,EAAI,SAAWI,OAAJH,EAAI,iB,SACnGa,MAAMF,G,WAAvBC,EAAQE,EAAAC,MACEC,GAAE,C,eACd,MAAM,IAAIC,MAAM,S,uBAEEL,EAASM,O,cAAtB7B,EAAIyB,EAAAC,K,kBACH1B,G,6CAPiBL,MAAAC,KAAAC,U,CASzB,IAAMkB,EAAMe,SAASC,cAAc,a,SAGvBrC,I,OAAAA,EAAfwB,EAAA3B,EAAA,CAAA2B,EAAAC,GAAAC,MAAA,SAAAC,EAAgC5B,G,IAExB8B,EAIGvB,E,wEALI,6G,SACUwB,MADV,8G,WACPD,EAAQE,EAAAC,MACEC,GAAE,C,eACf,MAAM,IAAIC,MAAM,S,uBAEGL,EAASM,O,cAAtB7B,EAAIyB,EAAAC,K,kBACH1B,G,6CAPmBL,MAAAC,KAAAC,U,CAU7B,SAASI,EAAW+B,GAMnB,IAAMC,EAAOC,KAAKC,MAAMH,EAAII,KAAKH,MAE3BI,EAAK,IAAIC,KAETC,EACC,gDAC+BzB,OADiBkB,EAAIQ,GAAG,+CAGxB1B,OAFAmB,EAAK,qGAM+BnB,OAJpCkB,EAAIS,QAAQ,GAAGL,KAAK,wUAQmBtB,OAJHkB,EAAIU,KAAK,2IAI8B5B,OAApCkB,EAAIS,QAAQ,GAAGE,KAAK,kBAC7D7B,OAD6EkB,EAAIY,MAAM,6CAEtF9B,OADDuB,EAAGQ,cAAcC,MAAM,EAAG,GAAG,iDACChC,OAA7BuB,EAAGQ,cAAcC,MAAM,EAAE,IAAI,iHAGjE/B,EAAIgC,mBAAmB,aAAcR,GAGrBT,SAASkB,eAAe,cAEhCC,iBAAiB,QAASC,E,CAGpC,SAASA,EAAmBC,GAC1BA,EAAEC,iBAEF,IAAMC,EAAYF,EAAEG,cAAcC,MAEhC,GAAgB,KAAZJ,EAAEI,MAAc,CAEd,OAAQC,MADS,+B,CAGnBH,EAAUI,OACVC,QAAQC,KAAK,WAGb,IAAMrC,EAAM,2FAAqGR,OAAVuC,EAAU,iBAE7G7B,MAAMF,GAAKvB,MAAK,SAAC6D,GAEd,IAAKA,EAAIjC,GACN,MAAM,IAAIC,MAAM,SAEhB,OAAOgC,EAAI/B,M,IACZ9B,MAAK,SAACC,GACHe,EAAIC,WAAWC,SAEjBhB,EAAWD,E","sources":["src/js/weather.js"],"sourcesContent":["//------Tanya,\n //  ============== по умолчанию\nfetchWeatherCity().then((data) =>{\n  // console.log(data);\n  createCard(data);\n})\n\n// ======== запрос разрешения геолокации\n navigator.geolocation.getCurrentPosition(position => {\n  //  console.log(position.coords)\n  if (position.coords = true) {\n   const { latitude, longitude } = position.coords;\n  let lat = `${latitude}`;\n  let lon = `${longitude}`;\n  fetchWeather(lat, lon).then((data) =>{\n     box.firstChild.remove()\n    // console.log(data);\n    createCard(data);\n  });\n }\n});\n // ===========  по геолокации\n const KEY = 'а66723ff7785b663e20297f90d8a0e90'\n async function fetchWeather(lat, lon){ \n  const URL = `https://api.openweathermap.org/data/2.5/weather?APPID=a66723ff7785b663e20297f90d8a0e90&lat=${lat}&lon=${lon}&units=metric`\n const response = await fetch(URL);\n   if (!response.ok) {\n     throw new Error('Error');\n   }\n    const data = await response.json();\n    return data;\n   };\n   const box = document.querySelector('.box-news')\n\n //  ============== по умолчанию\nasync function fetchWeatherCity(q){ \n  const URL = `https://api.openweathermap.org/data/2.5/weather?APPID=a66723ff7785b663e20297f90d8a0e90&q=Kyiv&units=metric` \n  const response = await fetch(URL);\n    if (!response.ok) {\n     throw new Error('Error');\n    }\n     const data = await response.json();\n     return data;\n  };\n  // ============== CARD\n  function createCard(arr){\n  //   console.log(arr.dt.toString());\n  //  console.log(arr.id);\n  //  console.log(Math.floor(arr.main.temp));\n  //  console.log(arr.weather[0].main);\n  //  console.log(arr.weather[0].icon);\n   const temp = Math.floor(arr.main.temp);\n  //  console.log(arr.name)\n   const d1 = new Date();\n  //  console.log(d1.toUTCString());\n   const marcup =\n          `<li class=\"box-weather__item box \" data-id= \"${arr.id}\">\n               <p class=\"weather-temp\">${temp}&deg</p>\n             <div class=\"weather-city-group\"> \n               <p class=\"weather-main\">${arr.weather[0].main}</p> \n               <form class=\"search-form\">\n               <svg class=\"icon icon-carbon_location-filled\" width=\"14\" height=\"14\">\n               <use href=\"./header-sprite.svg#icon-carbon_location-filled\" width=\"14\" height=\"14\"\"></use></svg>\n               <input type=\"text\" id=\"search-box\" placeholder=\"            ${arr.name}\"/>\n            </form>\n             </div>\n        \n             <img class=\"weather-icon\" src=\" http://openweathermap.org/img/wn/${arr.weather[0].icon}@2x.png\" alt=\"${arr.title}\">\n               <p class= weather-day>${d1.toUTCString().slice(0, 3)}</p> \n               <p class= weather-data>${d1.toUTCString().slice(5,17)}</p> \n               <button class=\"weather-week\" type=\"submit\"> weather for week</button>\n           </li>`\n    box.insertAdjacentHTML(\"afterbegin\" ,marcup);\n  // =========== доступ к кнопкам, вешаем слушателей==========\n    // ======город\n    const inputEl = document.getElementById('search-box');\n    // console.log(inputEl);\n    inputEl.addEventListener(\"input\", onSubmitSearchCity);\n   // ======погода на 5 дней\n  } \n  function onSubmitSearchCity(e){\n    e.preventDefault();\n    // console.log('sos')\n    const valueCity = e.currentTarget.value;\n    // console.log(valueCity)\n      if (e.value === '') {\n            const message = (\"Поле повинно бути заповнено.\")\n            return  alert(message);  \n        } else {\n         (valueCity.length === 0)\n          console.info(\"no sity\");\n        }\n          // console.log('City:', valueCity);\n          const URL = `http://api.openweathermap.org/data/2.5/weather?APPID=a66723ff7785b663e20297f90d8a0e90&q=${valueCity}&units=metric` \n          //  const URL = `http://api.openweathermap.org/data/2.5/weather?APPID=a66723ff7785b663e20297f90d8a0e90&units=metric&id=700022`\n              fetch(URL).then((res) => {\n                //  console.log(res)\n                 if (!res.ok) {\n                    throw new Error('Error');\n                  }\n                    return res.json();\n                }).then((data) => {\n                      box.firstChild.remove()\n                      // console.log(data);\n                    createCard(data)});\n        \n        }\n\n  function onError(error) {\n    console.error(error);\n  }\n  \nexport {createCard};\n\n\n\n\n\n\n// Vika--------\n"],"names":["$bpxeT","parcelRequire","q","$b7c37e8f14632f7d$var$_fetchWeatherCity","apply","this","arguments","$b7c37e8f14632f7d$var$fetchWeatherCity","then","data","$b7c37e8f14632f7d$export$b7316deff43c35f7","navigator","geolocation","getCurrentPosition","position","coords","_coords","latitude","longitude","lat","lon","$b7c37e8f14632f7d$var$_fetchWeather","$b7c37e8f14632f7d$var$fetchWeather","concat","$b7c37e8f14632f7d$var$box","firstChild","remove","$parcel$interopDefault","$2TvXO","mark","_callee","URL","response","fetch","_ctx","sent","ok","Error","json","document","querySelector","arr","temp","Math","floor","main","d1","Date","marcup","id","weather","name","icon","title","toUTCString","slice","insertAdjacentHTML","getElementById","addEventListener","$b7c37e8f14632f7d$var$onSubmitSearchCity","e","preventDefault","valueCity","currentTarget","value","alert","length","console","info","res"],"version":3,"file":"index.54c048a8.js.map"}