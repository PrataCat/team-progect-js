!function(){var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},t={},a=e.parcelRequire6b37;null==a&&((a=function(e){if(e in n)return n[e].exports;if(e in t){var a=t[e];delete t[e];var o={id:e,exports:{}};return n[e]=o,a.call(o.exports,o,o.exports),o.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,n){t[e]=n},e.parcelRequire6b37=a);var o=a("cHsZg"),r=(o=a("cHsZg"),a("aGx0e"));function i(e){var n,t,a,i,s,l,c=e.abstract,d=e.title,v=e.url,f=e.published_date,u=e.image_url,_=e.section,w=e.id,b=(n=e,t=(0,o.loadAllFavorites)()||[],a=(0,r.loadReadStorage)()||{},i=Object.values(a).flat(),s=t.find((function(e){return n.id===e.id})),l=i.find((function(e){return n.id===e.id})),rezult={fav:!!s,read:!!l});return'<li class="box-news__item '.concat(b.read?"show":"",'" data-id="').concat(w,'">\n      <p class="box-news__section">').concat(_,'</p>\n          <div class="box-news___wrap-reading">\n            <span class="box-news__reading">Alredy read</span>\n            <svg class="icon" width="18" height="18">\n              <use href="#icon-check"></use>\n            </svg> \n          </div>\n          <button class="box-news__favorite-btn ').concat(b.fav?"favorite":"",'">\n              <p class="box-news__favorite-p"> ').concat(b.fav?"Remove from Favorite":"Add to Favorite",'</p>\n              <svg class="box-news__favorite-svg" width="16" height="16"">\n                <use href="#icon-heart"></use>\n              </svg>\n            </button>\n          <article>\n            <div class="box-news__thumb">\n              <img class="box-news__img" src="').concat(u,'" loading="lazy" alt="').concat(_,'" width=\'440\'/>\n            </div>\n          <div class="box-news__wrap-title">\n            <h2 class="box-news__titel">\n              ').concat(d,'\n            </h2>\n          </div>\n          <div class="box-news__wrap-text">\n            <p class="box-news__text">\n              ').concat(c.length>120?c.slice(0,110)+"...":c,'\n            </p>\n          </div>\n          <div class="box-news__wrap">\n            <p class="box-news__data">').concat(f,'</p>\n            <a href="').concat(v,'" class="box-news__link" target="_blank" rel="noopener noreferrer nofollow">Read more</a>\n          </div>\n          </article>\n          <div class="overlay"></div>\n        </li>')}r=a("aGx0e");var s=document.querySelector(".box-news");function l(){var e=document.documentElement.clientWidth;return e>1280?8:e>768?7:4}function c(e){if("object"==typeof e&&!1!==Array.isArray(e)){perPage=l();var n=function(e,n,t){var a=(n-1)*t,o=a+t;return e.slice(a,o)}((0,o.loadAllFavorites)(),page=1,perPage),t=n.map((function(e){return i(e)}));s.insertAdjacentHTML("beforeend",t.join(""))}}s.addEventListener("click",(function(e){if("box-news__favorite-p"===e.target.classList.value){var n=e.target.closest("BUTTON").closest("li").dataset.id;(0,o.excludeFavoriteNew)(n),s.innerHTML="",c((0,o.loadAllFavorites)())}if("A"===e.target.tagName){var t=e.target.closest("li").dataset.id,a=e.target.closest("li"),i=(0,o.loadAllFavorites)(),l=!0,d=!1,v=void 0;try{for(var f,u=i[Symbol.iterator]();!(l=(f=u.next()).done);l=!0){var _=f.value;if(_.id===t)return(0,r.writeReadStorage)(_),void a.classList.add("show")}}catch(e){d=!0,v=e}finally{try{l||null==u.return||u.return()}finally{if(d)throw v}}}})),c((0,o.loadAllFavorites)())}();
//# sourceMappingURL=favorite-main.93481c16.js.map
