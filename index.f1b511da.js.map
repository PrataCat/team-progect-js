{"mappings":"YACA,IAEMA,EAAmBC,OAAOC,WAC1BC,EAAmBC,SAASC,cAAc,+BAC1CC,EAAqBF,SAASC,cAClC,iCAEIE,EAAwBH,SAASC,cACrC,gCAwFF,SAASG,IACHF,EAAmBG,UAAUC,SAAS,aACxCJ,EAAmBG,UAAUE,OAAO,WACpCJ,EAAsBE,UAAUE,OAAO,WACvCV,OAAOW,oBAAoB,QAASJ,G,CAhF/BK,MAAM,GAASC,OAnBZ,iEAmBgBA,OApBhB,8CAoBmBC,MAAK,SAAAC,GAEhC,IAAKA,EAAIC,GACP,MAAM,IAAIC,MAAM,SAElB,OAAOF,EAAIG,M,IAdKJ,MAAK,SAAAK,IAkBzB,SAA0BC,EAAWC,GAEnC,IAAIC,EAA4B,GAC5BC,EAA8B,GAC9BF,EAAmB,KAAOA,EAAmB,KAC/CD,EAAUI,KAAI,SAAAL,EAAmBM,G,IAAhBC,EAAYP,EAAZO,aACXD,GAAS,EACXH,GAA6B,oFAAiGT,OAAba,EAAa,oBAGhIH,GAA+B,wFAAqGV,OAAba,EAAa,iB,IAGtIN,EAAUI,KAAI,SAAAL,EAAmBM,G,IAAhBC,EAAYP,EAAZO,aACXD,GAAS,EACXH,GAA6B,oFAAiGT,OAAba,EAAa,oBAGhIH,GAA+B,wFAAqGV,OAAba,EAAa,iB,IAGxIxB,EAAiByB,UAAYL,EAC7BpB,EAAiB0B,mBACf,YACC,gPAGHvB,EAAmBsB,UAAYJ,C,CA5C/BM,CADiCV,EAAPW,QACA/B,E,IAG5BG,EAAiB6B,iBAAiB,SA4ClC,SAA0BC,GACxB,IAAMC,EAAmB9B,SAAS+B,iBAChC,8BAEGC,GAAiB,EAAjBC,GAAiB,EAAjBC,OAAiBC,E,IAAtB,QAAKC,EAAAC,EAAqBP,EAAgBQ,OAAAC,cAArCP,GAAAI,EAAAC,EAAiBG,QAAAC,MAAjBT,GAAiB,GAAjB,IAAMU,EAANN,EAAiBO,MAChBD,EAAYrC,UAAUC,SAAS,WACjCoC,EAAYrC,UAAUE,OAAO,S,WAF5B0B,GAAiB,EAAjBC,EAAiBU,C,aAAjBZ,GAAiB,MAAjBK,EAAiBQ,QAAjBR,EAAiBQ,Q,YAAjBZ,E,MAAAC,C,EAK0B,WAA3BL,EAAMiB,OAAOC,WACflB,EAAMiB,OAAOzC,UAAU2C,IAAI,S,IArD/BjD,EAAiB6B,iBAAiB,SAyDlC,SAAgCC,GAC1BA,EAAMiB,OAAOzC,UAAUC,SAAS,gBAClCuB,EAAMoB,kBACN/C,EAAmBG,UAAU6C,OAAO,WACpC/C,EAAsBE,UAAU6C,OAAO,WACvCrD,OAAO+B,iBAAiB,QAASxB,G,IA7DrCF,EAAmB0B,iBAAiB,SAiEpC,SAA4BuB,GAC1B,IAAIC,EAAUD,EAAEL,OAAOO,YACvBC,QAAQC,IAAIJ,EAAEK,eACGzD,EAAiB0D,UACRC,WACjBL,YAAcD,EACvBE,QAAQC,IAAIH,GAERjD,EAAsBE,UAAUC,SAAS,aAC3CJ,EAAmBG,UAAUE,OAAO,WACpCJ,EAAsBE,UAAUE,OAAO,W","sources":["src/js/topic-list.js"],"sourcesContent":["// ------------Misa & Stas--------------\nconst KEY = '?api-key=OotKL5nYMsbXFbPHNmmUjf7brVnGZQ8G';\nconst URL = 'https://api.nytimes.com/svc/news/v3/content/section-list.json';\nconst windowInnerWidth = window.innerWidth;\nconst mainCategoryList = document.querySelector('.filter__main-category-list');\nconst othersCategoryList = document.querySelector(\n  '.filter__others-category-list'\n);\nconst othersCategoryLisWrap = document.querySelector(\n  '.filter__other-category-wrap'\n);\n\nonFetchCategories().then(({ results }) => {\n  createCategories(results, windowInnerWidth);\n});\n\nmainCategoryList.addEventListener('click', onChooseCategory);\nmainCategoryList.addEventListener('click', onShowOthersCategories);\nothersCategoryList.addEventListener('click', onSectionSelection);\n\nfunction onFetchCategories() {\n  return fetch(`${URL}${KEY}`).then(res => {\n    // console.log(res);\n    if (!res.ok) {\n      throw new Error('error');\n    }\n    return res.json();\n  });\n}\n\nfunction createCategories(newsArray, windowInnerWidth) {\n  // console.log(newsArray);\n  let markupForMainCategoryList = '';\n  let markupForOthersCategoryList = '';\n  if (windowInnerWidth > 767 && windowInnerWidth < 1279) {\n    newsArray.map(({ display_name }, index) => {\n      if (index <= 3) {\n        markupForMainCategoryList += `<li class=\"filter__main-category-item\"><button class=\"filter__main-category-btn\">${display_name}  </button></li>`;\n        return;\n      }\n      markupForOthersCategoryList += `<li class=\"filter__others-category-item\"><button class=\"filter__others-category-btn\">${display_name}</button></li>`;\n    });\n  } else {\n    newsArray.map(({ display_name }, index) => {\n      if (index <= 5) {\n        markupForMainCategoryList += `<li class=\"filter__main-category-item\"><button class=\"filter__main-category-btn\">${display_name}  </button></li>`;\n        return;\n      }\n      markupForOthersCategoryList += `<li class=\"filter__others-category-item\"><button class=\"filter__others-category-btn\">${display_name}</button></li>`;\n    });\n  }\n  mainCategoryList.innerHTML = markupForMainCategoryList;\n  mainCategoryList.insertAdjacentHTML(\n    'beforeend',\n    `<li class=\"filter__other-category-item\"><button class=\"filter__main-category-btn others-btn\">Others<svg class=\"filter__main-category-btn-icon\"> <use href=\"../images/symbol-defs-mini.svg#icon-orig-mini-n-z\"> </use> </svg>\n</button></li>`\n  );\n  othersCategoryList.innerHTML = markupForOthersCategoryList;\n}\n\nfunction onChooseCategory(event) {\n  const categoryBtnArray = document.querySelectorAll(\n    '.filter__main-category-btn'\n  );\n  for (const categoryBtn of categoryBtnArray) {\n    if (categoryBtn.classList.contains('active')) {\n      categoryBtn.classList.remove('active');\n    }\n  }\n  if (event.target.localName === 'button') {\n    event.target.classList.add('active');\n  }\n}\n\nfunction onShowOthersCategories(event) {\n  if (event.target.classList.contains('others-btn')) {\n    event.stopPropagation();\n    othersCategoryList.classList.toggle('visible');\n    othersCategoryLisWrap.classList.toggle('visible');\n    window.addEventListener('click', onCloseOthersCategories);\n  }\n}\n\nfunction onSectionSelection(e) {\n  let section = e.target.textContent;\n  console.log(e.currentTarget);\n  const othersLi = mainCategoryList.lastChild;\n  const otherBtn = othersLi.firstChild;\n  otherBtn.textContent = section;\n  console.log(section);\n\n  if (othersCategoryLisWrap.classList.contains('visible')) {\n    othersCategoryList.classList.remove('visible');\n    othersCategoryLisWrap.classList.remove('visible');\n  }\n}\n\nfunction onCloseOthersCategories() {\n  if (othersCategoryList.classList.contains('visible')) {\n    othersCategoryList.classList.remove('visible');\n    othersCategoryLisWrap.classList.remove('visible');\n    window.removeEventListener('click', onCloseOthersCategories);\n  }\n}\n"],"names":["$ed815880f0155fe7$var$windowInnerWidth","window","innerWidth","$ed815880f0155fe7$var$mainCategoryList","document","querySelector","$ed815880f0155fe7$var$othersCategoryList","$ed815880f0155fe7$var$othersCategoryLisWrap","$ed815880f0155fe7$var$onCloseOthersCategories","classList","contains","remove","removeEventListener","fetch","concat","then","res","ok","Error","json","param","newsArray","windowInnerWidth1","markupForMainCategoryList","markupForOthersCategoryList","map","index","display_name","innerHTML","insertAdjacentHTML","$ed815880f0155fe7$var$createCategories","results","addEventListener","event","categoryBtnArray","querySelectorAll","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","categoryBtn","value","err","return","target","localName","add","stopPropagation","toggle","e","section","textContent","console","log","currentTarget","lastChild","firstChild"],"version":3,"file":"index.f1b511da.js.map"}