function t(t){return new Date(t).toLocaleString().slice(0,10).split(".").join("/")}function e(t){const{abstract:e,title:n,url:o,published_date:s,image_url:i,section:a,id:r}=t;return`<li class="box-news__item" data-id="${r}">\n      <p class="box-news__section">${a}</p>\n          <div class="box-news___wrap-reading">\n            <span class="box-news__reading">Alredy read</span>\n            <svg class="icon" width="18" height="18">\n              <use href="#icon-check"></use>\n            </svg> \n          </div>\n          <button id="favorite-btn" class="box-news__favorite-btn">\n              <p id="favorite-p" class="box-news__favorite-p">Add to Favorite</p>\n              <svg class="box-news__favorite-svg" width="16" height="16" id="favorite-svg">\n                <use href="#icon-heart"></use>\n              </svg>\n            </button>\n          <article>\n            <div class="box-news__thumb">\n              <img class="box-news__img" src="${i}" loading="lazy" alt="${a}" width='440'/>\n            </div>\n          <div class="box-news__wrap-title">\n            <h2 class="box-news__titel">\n              ${n}\n            </h2>\n          </div>\n          <div class="box-news__wrap-text">\n            <p class="box-news__text">\n              ${e.length>120?e.slice(0,110)+"...":e}\n            </p>\n          </div>\n          <div class="box-news__wrap">\n            <p class="box-news__data">${s}</p>\n            <a href="${o}" class="box-news__link" target="_blank" rel="noopener noreferrer nofollow">Read more</a>\n          </div>\n          </article>\n          <div class="overlay"></div>\n        </li>`}const n=document.querySelector(".box-news");n.addEventListener("click",(function(t){if(t.target.closest("BUTTON")){const e=t.target.closest("BUTTON"),n=e.closest("li").dataset.id,o=e.querySelector(".box-news__favorite-p"),s=e.querySelector(".box-news__favorite-svg");e.classList.contains("favorite")?c(e,n,o,s):l(e,n,o,s)}})),n.addEventListener("click",(function(t){t.preventDefault();let e=null,n=null;if("A"===t.target.tagName){e=t.target.closest("li").dataset.id,n=t.target.closest("li"),console.log(n),console.log("currentId - ",e);for(const t of s){if(t.id===e)return console.log("Мы нашли ID и вызываем ф-цию READ (include...)"),void n.classList.add("show");console.log("Все пропало шеф!!!")}}}));let o=r(),s=[],i=null;async function a(t){0===s.length&&(s=await t()),i=function(){const t=r();return t>1280?8:t>768?7:4}();const o=function(t,e,n){const o=(e-1)*n,s=o+n;return t.slice(o,s)}(s,1,i),a=o.map((t=>e(t)));var c;c=a,n.insertAdjacentHTML("beforeend",c.join(""))}function r(){return document.documentElement.clientWidth}function c(t,e,n,o){for(const i of s)if(i.id===e){return void(!0&&(console.log("Удалил"),t.classList.remove("favorite"),n.classList.remove("favorite-p"),o.classList.remove("favorite-svg"),n.textContent="Add to Favorite"))}}function l(t,e,n,o){for(const i of s)if(i.id===e){return void(!0&&(console.log("Добавил"),t.classList.add("favorite"),n.classList.add("favorite-p"),o.classList.add("favorite-svg"),n.textContent="Remove from Favorite"))}}function c(t,e,n,o){for(const i of s)if(i.id===e){return void(!0&&(console.log("Удалил"),t.classList.remove("favorite"),n.classList.remove("favorite-p"),o.classList.remove("favorite-svg"),n.textContent="Add to Favorite"))}}function l(t,e,n,o){for(const i of s)if(i.id===e){return void(!0&&(console.log("Добавил"),t.classList.add("favorite"),n.classList.add("favorite-p"),o.classList.add("favorite-svg"),n.textContent="Remove from Favorite"))}}window.addEventListener("resize",(function(){(o<768&&r()>=768||o>=768&&o<1280&&(r()<768||r()>=1280)||o>=1280&&r()<1280)&&a()})),a((async function(e=7){try{const n=await async function(t=7){try{if(![1,7,30].includes(t))return void console.log("incorrect period");const e=await fetch(`https://api.nytimes.com/svc/mostpopular/v2/viewed/${t}.json?api-key=xiA2oqSwY7oUdkxynOuoZzJzlQ7EJz4s`);return(await e.json()).results}catch(t){console.log(t)}}(e);return n.map((e=>{const{title:n,abstract:o,published_date:s,url:i,section:a,media:r,uri:c}=e,l=r[0]?r[0]["media-metadata"][2].url:"";return{title:n,abstract:o,published_date:t(s),url:i,section:a,image_url:l,id:c.split("/")[3]}}))}catch(t){console.log(t)}}));
//# sourceMappingURL=index.7970227f.js.map
